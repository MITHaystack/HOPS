<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="en-US">
  <compounddef id="proxy__cable__cal_8py" kind="file" language="Python">
    <compoundname>proxy_cable_cal.py</compoundname>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap" prot="public">vpal::proxy_cable_cal::ChannelToBandMap</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix" prot="public">vpal::proxy_cable_cal::ComplexReImCovarianceMatrix</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager" prot="public">vpal::proxy_cable_cal::ExperimentMultibandDelayAverager</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay" prot="public">vpal::proxy_cable_cal::ExperimentPccBandDelay</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval" prot="public">vpal::proxy_cable_cal::NumericalInterval</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration" prot="public">vpal::proxy_cable_cal::PccConfiguration</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1PccDate" prot="public">vpal::proxy_cable_cal::PccDate</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay" prot="public">vpal::proxy_cable_cal::ScanPccBandDelay</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection" prot="public">vpal::proxy_cable_cal::SingleChannelPhasorCollection</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection" prot="public">vpal::proxy_cable_cal::StationExperimentPhasorCollection</innerclass>
    <innerclass refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData" prot="public">vpal::proxy_cable_cal::StationScanPhaseCalibrationData</innerclass>
    <innernamespace refid="namespacevpal_1_1proxy__cable__cal">vpal::proxy_cable_cal</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacevpal_1_1proxy__cable__cal" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;library<sp/>to<sp/>handle<sp/>the<sp/>calculation<sp/>of<sp/>proxy-cable-calibration<sp/>delays<sp/>from<sp/>phase-cal<sp/>data<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">#core<sp/>imports</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>print_function</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>absolute_import</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>division</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>builtins<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>next</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>builtins<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>str</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>builtins<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>object</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>builtins<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>range</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>datetime</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>math</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>cmath</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>copy</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logging</highlight></codeline>
<codeline lineno="19"><highlight class="normal">pcc_logger<sp/>=<sp/>logging.getLogger(__name__)</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="comment">#non-core<sp/>imports</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>scipy.stats</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>progress.bar<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Bar</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keywordflow">except</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utility<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Bar</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utility<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>limit_periodic_quantity_to_range</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utility<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>minimum_angular_difference</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="comment">#hops<sp/>package<sp/>python<sp/>libs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>mk4io</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>hops_test<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ht</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>vexpy</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>pcc_delay_fitting</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="comment">#hard-coded<sp/>values<sp/>from<sp/>HOPS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal">MAX_CHAN<sp/>=<sp/>128</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">#define<sp/>number<sp/>of<sp/>channels<sp/>and<sp/>accumulators<sp/>(hard-coded<sp/>in<sp/>type_309_v1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal">T309_NCHAN<sp/>=<sp/>64</highlight></codeline>
<codeline lineno="43"><highlight class="normal">T309_NACC<sp/>=<sp/>64</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="comment">#taken<sp/>from<sp/>fourfit<sp/>pcal_interp.c</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal">TWO31<sp/>=<sp/>2147483648.0</highlight></codeline>
<codeline lineno="47"><highlight class="normal">TWO32<sp/>=<sp/>4294967296.0</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="comment">#number<sp/>of<sp/>seconds<sp/>offset<sp/>from<sp/>start<sp/>of<sp/>scan</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="comment">#that<sp/>we<sp/>discard</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal">DISCARD_OFFSET<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="57"><highlight class="stringliteral">proxy-cable-cal<sp/>procedure<sp/>should<sp/>operate<sp/>in<sp/>an<sp/>object<sp/>oriented<sp/>way<sp/>:</highlight></codeline>
<codeline lineno="58"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral">-<sp/>go<sp/>through<sp/>the<sp/>whole<sp/>experiment<sp/>for<sp/>each<sp/>station,<sp/>and<sp/>do:</highlight></codeline>
<codeline lineno="60"><highlight class="stringliteral">-<sp/>for<sp/>each<sp/>scan<sp/>we<sp/>should:</highlight></codeline>
<codeline lineno="61"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>parse<sp/>the<sp/>ovex<sp/>file,<sp/>get<sp/>a<sp/>list<sp/>of<sp/>stations<sp/>(and<sp/>list<sp/>of<sp/>channels<sp/>for<sp/>each<sp/>station):</highlight></codeline>
<codeline lineno="62"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>for<sp/>each<sp/>station<sp/>read<sp/>in<sp/>the<sp/>station<sp/>data<sp/>file<sp/>type_3XX</highlight></codeline>
<codeline lineno="63"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>then<sp/>extract<sp/>the<sp/>type_309<sp/>for<sp/>each<sp/>channels</highlight></codeline>
<codeline lineno="64"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>convert<sp/>the<sp/>type_309<sp/>data<sp/>to<sp/>raw<sp/>complex<sp/>double-arrays<sp/>by<sp/>tone-ap(time),<sp/>this<sp/>needs<sp/>to<sp/>handle<sp/>upper/lower-sidebands<sp/>and<sp/>give<sp/>tones<sp/>in<sp/>sky-frequency</highlight></codeline>
<codeline lineno="65"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>time<sp/>average<sp/>the<sp/>raw-pcal<sp/>data<sp/>over<sp/>the<sp/>whole<sp/>scan</highlight></codeline>
<codeline lineno="66"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>present<sp/>a<sp/>set<sp/>of<sp/>objects<sp/>which<sp/>are<sp/>labelled<sp/>by<sp/>scan-station<sp/>containing<sp/>the<sp/>(raw)<sp/>mean<sp/>phasor<sp/>for<sp/>each<sp/>p-cal<sp/>tone</highlight></codeline>
<codeline lineno="67"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>then<sp/>we<sp/>should<sp/>apply<sp/>a<sp/>reference<sp/>scan(s)<sp/>and<sp/>cut<sp/>bad<sp/>tones</highlight></codeline>
<codeline lineno="68"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>the<sp/>for<sp/>each<sp/>scan-station<sp/>object<sp/>we<sp/>should<sp/>group<sp/>channels<sp/>by<sp/>each<sp/>particular<sp/>band-pol.<sp/>How<sp/>do<sp/>we<sp/>group<sp/>channels<sp/>into<sp/>bands?<sp/>Give<sp/>a<sp/>standard<sp/>list<sp/>for<sp/>VGOS/mixed-mode?</highlight></codeline>
<codeline lineno="69"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>order<sp/>the<sp/>tones<sp/>for<sp/>each<sp/>band-pol<sp/>and<sp/>perform<sp/>a<sp/>delay<sp/>fit</highlight></codeline>
<codeline lineno="70"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>output<sp/>a<sp/>collection<sp/>of<sp/>objects<sp/>labelled<sp/>by<sp/>scan-station<sp/>which<sp/>contain<sp/>delays<sp/>for<sp/>each<sp/>available<sp/>band-pol</highlight></codeline>
<codeline lineno="71"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>ouput<sp/>a<sp/>time<sp/>series<sp/>of<sp/>delays<sp/>for<sp/>each<sp/>station-band-pol<sp/>(with<sp/>meta<sp/>data)</highlight></codeline>
<codeline lineno="72"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74" refid="classvpal_1_1proxy__cable__cal_1_1PccDate" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate" kindref="compound">PccDate</ref>(object):</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;simple<sp/>date<sp/>class<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1aa715e2de769654fa41c92c6881fe9593" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a0595505a6469511a253323eebfd2b300" kindref="member">year</ref>year<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a419906b35fa94b8fb532cc32e9fe4c68" kindref="member">day</ref>day<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3cf736d74313a6b8327fe7a94379e3f8" kindref="member">hour</ref>hour<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3c1feb8e617228f0ce68861f4265085d" kindref="member">minute</ref>minute<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a9e33e321880830f5bdf99d85f0650e8f" kindref="member">second</ref>second<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1ae9a7197930ff3cd91c84e03101530f58" kindref="member">__lt__</ref>(self,<sp/>other):</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a0595505a6469511a253323eebfd2b300" kindref="member">year</ref>year<sp/>&lt;<sp/>other.year:</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a0595505a6469511a253323eebfd2b300" kindref="member">year</ref>year<sp/>==<sp/>other.year:</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a419906b35fa94b8fb532cc32e9fe4c68" kindref="member">day</ref>day<sp/>&lt;<sp/>other.day:</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a419906b35fa94b8fb532cc32e9fe4c68" kindref="member">day</ref>day<sp/>==<sp/>other.day:</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3cf736d74313a6b8327fe7a94379e3f8" kindref="member">hour</ref>hour<sp/>&lt;<sp/>other.hour:</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3cf736d74313a6b8327fe7a94379e3f8" kindref="member">hour</ref>hour<sp/>==<sp/>other.hour:</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3c1feb8e617228f0ce68861f4265085d" kindref="member">minute</ref>minute<sp/>&lt;<sp/>other.minute:</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3c1feb8e617228f0ce68861f4265085d" kindref="member">minute</ref>minute<sp/>==<sp/>other.minute:</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a9e33e321880830f5bdf99d85f0650e8f" kindref="member">second</ref>second<sp/>&lt;<sp/>other.second:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1ab96607412fc8e3c5893abbbbce10d1b3" kindref="member">initialize_from_date</ref>(self,mk4_date):</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a0595505a6469511a253323eebfd2b300" kindref="member">year</ref>year<sp/>=<sp/>mk4_date.year</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a419906b35fa94b8fb532cc32e9fe4c68" kindref="member">day</ref>day<sp/>=<sp/>mk4_date.day</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3cf736d74313a6b8327fe7a94379e3f8" kindref="member">hour</ref>hour<sp/>=<sp/>mk4_date.hour</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3c1feb8e617228f0ce68861f4265085d" kindref="member">minute</ref>minute<sp/>=<sp/>mk4_date.minute</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a9e33e321880830f5bdf99d85f0650e8f" kindref="member">second</ref>second<sp/>=<sp/>mk4_date.second</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1ac8439f339dbf1a59d2713e109470cacc" kindref="member">get_time_delta_seconds</ref>(self,other):</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;compute<sp/>difference<sp/>in<sp/>time<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a0595505a6469511a253323eebfd2b300" kindref="member">year</ref>year<sp/>==<sp/>other.year:</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deltaday<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a419906b35fa94b8fb532cc32e9fe4c68" kindref="member">day</ref>day<sp/>-<sp/>other.day</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deltahour<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3cf736d74313a6b8327fe7a94379e3f8" kindref="member">hour</ref>hour<sp/>-<sp/>other.hour</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deltamin<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3c1feb8e617228f0ce68861f4265085d" kindref="member">minute</ref>minute<sp/>-<sp/>other.minute</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deltasec<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a9e33e321880830f5bdf99d85f0650e8f" kindref="member">second</ref>second<sp/>-<sp/>other.second</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delta_seconds<sp/>=<sp/>datetime.timedelta(days=deltaday,<sp/>hours=deltahour,<sp/>minutes=deltamin,<sp/>seconds=deltasec).total_seconds()</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>delta_seconds</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#TODO<sp/>FIXME,<sp/>better<sp/>hope<sp/>no-one<sp/>runs<sp/>an<sp/>experiment<sp/>over<sp/>new<sp/>year&apos;s<sp/>eve</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.error(</highlight><highlight class="stringliteral">&quot;Error:<sp/>PccData.get_time_delta_seconds()<sp/>is<sp/>not<sp/>yet<sp/>implemented<sp/>for<sp/>scans<sp/>in<sp/>different<sp/>years.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1aa9385137d23cb40e0c13cdc3ad488955" kindref="member">as_string</ref>(self):</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>day_str<sp/>=<sp/>str(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a419906b35fa94b8fb532cc32e9fe4c68" kindref="member">day</ref>day)</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hour_str<sp/>=<sp/>str(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3cf736d74313a6b8327fe7a94379e3f8" kindref="member">hour</ref>hour)</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>minute_str<sp/>=<sp/>str(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a3c1feb8e617228f0ce68861f4265085d" kindref="member">minute</ref>minute)</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>second_str<sp/>=<sp/>str(int(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate_1a9e33e321880830f5bdf99d85f0650e8f" kindref="member">second</ref>second))</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>day_str.zfill(3)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;-&quot;</highlight><highlight class="normal"><sp/>+<sp/>hour_str.zfill(2)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;:&quot;</highlight><highlight class="normal"><sp/>+<sp/>minute_str.zfill(2)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;:&quot;</highlight><highlight class="normal"><sp/>+<sp/>second_str.zfill(2)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>UTC&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134" refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval" kindref="compound">NumericalInterval</ref>(object):</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;simple<sp/>class<sp/>for<sp/>a<sp/>numerical<sp/>interval<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#default<sp/>values<sp/>for<sp/>init</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1a8dc2838f60775490fd864683cbce9aa4" kindref="member">__init__</ref>(self,<sp/>center,<sp/>width):</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1afd7818cf2b8325bec6953fe82c7683b8" kindref="member">center</ref>center<sp/>=<sp/>center</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1abc9d86fc0dcddd9aa1f77e95261efc7a" kindref="member">width</ref>width<sp/>=<sp/>width</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1aa74477ebd40af4701946ab1d47aa05fa" kindref="member">get_center</ref>(self):</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1afd7818cf2b8325bec6953fe82c7683b8" kindref="member">center</ref>center</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1a2b35aad7130b777d04f129889f7df6ba" kindref="member">get_width</ref>(self):</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1abc9d86fc0dcddd9aa1f77e95261efc7a" kindref="member">width</ref>width</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1a292dee3af88d3647e78df9369593c1ab" kindref="member">get_lower_limit</ref>(self):</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1afd7818cf2b8325bec6953fe82c7683b8" kindref="member">center</ref>center<sp/>-<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1abc9d86fc0dcddd9aa1f77e95261efc7a" kindref="member">width</ref>width/2.0</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1a8f1b5d82c1f890b2a3d3ef1dacdf4796" kindref="member">get_upper_limit</ref>(self):</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1afd7818cf2b8325bec6953fe82c7683b8" kindref="member">center</ref>center<sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1abc9d86fc0dcddd9aa1f77e95261efc7a" kindref="member">width</ref>width/2.0</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1a0915a676e3ae12478ce1a843380eda31" kindref="member">__str__</ref>(self):</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;(&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1a292dee3af88d3647e78df9369593c1ab" kindref="member">get_lower_limit</ref>get_lower_limit()<sp/>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval_1a8f1b5d82c1f890b2a3d3ef1dacdf4796" kindref="member">get_upper_limit</ref>get_upper_limit()<sp/>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157" refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix" kindref="compound">ComplexReImCovarianceMatrix</ref>(object):</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;See<sp/>the<sp/>paper:</highlight></codeline>
<codeline lineno="159"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>@inproceedings{williams2006phase,</highlight></codeline>
<codeline lineno="160"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title={In-phase/quadrature<sp/>covariance-matrix<sp/>representation<sp/>of<sp/>the<sp/>uncertainty<sp/>of<sp/>vectors<sp/>and<sp/>complex<sp/>numbers},</highlight></codeline>
<codeline lineno="161"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>author={Williams,<sp/>Dylan<sp/>F<sp/>and<sp/>Wang,<sp/>CM<sp/>and<sp/>Arz,<sp/>Uwe},</highlight></codeline>
<codeline lineno="162"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>booktitle={2006<sp/>68th<sp/>ARFTG<sp/>Conference:<sp/>Microwave<sp/>Measurement},</highlight></codeline>
<codeline lineno="163"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pages={1--4},</highlight></codeline>
<codeline lineno="164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>year={2006},</highlight></codeline>
<codeline lineno="165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>organization={IEEE}</highlight></codeline>
<codeline lineno="166"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1ac3ae06fa67e502a7684e81418429fc64" kindref="member">__init__</ref>(self,<sp/>complex_data_vector=None):</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a2b4f7e77b8a8b3c8e0f072e0335eccb4" kindref="member">is_valid</ref>is_valid<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a34cc018ae0a4e2cdc12ab7a8ee11e3e7" kindref="member">mx</ref>mx<sp/>=<sp/>np.array([[0.,<sp/>0.],[0.,<sp/>0.]])<sp/></highlight><highlight class="comment">#this<sp/>representation<sp/>is<sp/>ReIm<sp/>covar.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1af322b5f9effda73cf2e462e66113e122" kindref="member">iq_mx</ref>iq_mx<sp/>=<sp/>np.array([[0.,<sp/>0.],[0.,<sp/>0.]])<sp/><sp/></highlight><highlight class="comment">#this<sp/>representation<sp/>is<sp/>In-phase/Quad<sp/>covar.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a304784eabf0fe478161ac4340232a21c" kindref="member">data</ref>data<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a52b479caf27f926396cd1e84d8885388" kindref="member">real_mean</ref>real_mean<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a335ea82c8cba3c061470fa84eed60b79" kindref="member">imag_mean</ref>imag_mean<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1adf9cd0489fa53c03e2bc0979d388ef6e" kindref="member">complex_mean</ref>complex_mean<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1ac8c39c6b26afde60087dbe568b8f8a3d" kindref="member">mean_phase</ref>mean_phase<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1aeb1e47bc1540c946972a9d9fef3503bc" kindref="member">mean_magnitude</ref>mean_magnitude<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>complex_data_vector<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1ae673eb0a1d5e361cb7d4c524f8b01184" kindref="member">set_data_vector</ref>set_data_vector(complex_data_vector)</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a0713e7898fd29c39820b9c6291e39b47" kindref="member">compute_mx</ref>compute_mx()</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1ae673eb0a1d5e361cb7d4c524f8b01184" kindref="member">set_data_vector</ref>(self,<sp/>complex_data_vector):</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a304784eabf0fe478161ac4340232a21c" kindref="member">data</ref>data<sp/>=<sp/>complex_data_vector</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a3f4d19130629b498c4db19afb0886915" kindref="member">multiply_data_by_complex_scalar</ref>(self,<sp/>complex_scalar):</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,<sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a304784eabf0fe478161ac4340232a21c" kindref="member">data</ref>data)<sp/>)<sp/>):</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a304784eabf0fe478161ac4340232a21c" kindref="member">data</ref>data[n]<sp/>*=<sp/>complex_scalar</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a0713e7898fd29c39820b9c6291e39b47" kindref="member">compute_mx</ref>compute_mx()</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a0713e7898fd29c39820b9c6291e39b47" kindref="member">compute_mx</ref>(self):</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>real_arr<sp/>=<sp/>np.array(<sp/>[x.real<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a304784eabf0fe478161ac4340232a21c" kindref="member">data</ref>data]<sp/>)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>imag_arr<sp/>=<sp/>np.array(<sp/>[x.imag<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a304784eabf0fe478161ac4340232a21c" kindref="member">data</ref>data]<sp/>)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#first<sp/>compute<sp/>the<sp/>Re/Im<sp/>mean/variance<sp/>from<sp/>the<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a52b479caf27f926396cd1e84d8885388" kindref="member">real_mean</ref>real_mean<sp/>=<sp/>np.mean(real_arr)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a335ea82c8cba3c061470fa84eed60b79" kindref="member">imag_mean</ref>imag_mean<sp/>=<sp/>np.mean(imag_arr)</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1adf9cd0489fa53c03e2bc0979d388ef6e" kindref="member">complex_mean</ref>complex_mean<sp/>=<sp/>complex(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a52b479caf27f926396cd1e84d8885388" kindref="member">real_mean</ref>real_mean,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a335ea82c8cba3c061470fa84eed60b79" kindref="member">imag_mean</ref>imag_mean)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1ac8c39c6b26afde60087dbe568b8f8a3d" kindref="member">mean_phase</ref>mean_phase<sp/>=<sp/>cmath.phase(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1adf9cd0489fa53c03e2bc0979d388ef6e" kindref="member">complex_mean</ref>complex_mean)</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1aeb1e47bc1540c946972a9d9fef3503bc" kindref="member">mean_magnitude</ref>mean_magnitude<sp/>=<sp/>abs(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1adf9cd0489fa53c03e2bc0979d388ef6e" kindref="member">complex_mean</ref>complex_mean)</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#then<sp/>compute<sp/>the<sp/>mx<sp/>elements</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a34cc018ae0a4e2cdc12ab7a8ee11e3e7" kindref="member">mx</ref>mx<sp/>=<sp/>np.cov(real_arr,<sp/>imag_arr)</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theta<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1ac8c39c6b26afde60087dbe568b8f8a3d" kindref="member">mean_phase</ref>mean_phase</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rot_mx<sp/>=<sp/>np.array([<sp/>[<sp/>math.cos(theta),<sp/>-1.0*math.sin(theta)],<sp/>[<sp/>math.sin(theta),<sp/>math.cos(theta)]<sp/>]<sp/>)</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1af322b5f9effda73cf2e462e66113e122" kindref="member">iq_mx</ref>iq_mx<sp/>=<sp/>np.dot(<sp/>np.transpose(rot_mx),<sp/>np.dot(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a34cc018ae0a4e2cdc12ab7a8ee11e3e7" kindref="member">mx</ref>mx,<sp/>rot_mx)<sp/>)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a2b4f7e77b8a8b3c8e0f072e0335eccb4" kindref="member">is_valid</ref>is_valid<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a46dd784dbc1fd9e08f444732cc8e6537" kindref="member">get_RI_representation</ref>(self):</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a34cc018ae0a4e2cdc12ab7a8ee11e3e7" kindref="member">mx</ref>mx</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1a19e6bda1186352e476bab4d8d989da7e" kindref="member">get_IQ_representation</ref>(self):</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1af322b5f9effda73cf2e462e66113e122" kindref="member">iq_mx</ref>iq_mx</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1ab68024270a342d1789b7ff979550dd58" kindref="member">get_magnitude_variance</ref>(self):</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1af322b5f9effda73cf2e462e66113e122" kindref="member">iq_mx</ref>iq_mx[0,0]</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1aebc2c197d123d3d6a8878b01529e2338" kindref="member">get_phase_variance</ref>(self):</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#geometrically<sp/>this<sp/>makes<sp/>sense,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#but<sp/>the<sp/>paper<sp/>only<sp/>gives<sp/>the<sp/>results<sp/>in<sp/>the<sp/>small<sp/>angle<sp/>case:<sp/>tan\theta<sp/>~<sp/>\theta</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>sometimes<sp/>self.iq_mx[1,1]<sp/>is<sp/>a<sp/>very<sp/>small<sp/>negative<sp/>number<sp/>-<sp/>if<sp/>so,<sp/>set<sp/>to<sp/>zero</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>np.abs(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1af322b5f9effda73cf2e462e66113e122" kindref="member">iq_mx</ref>iq_mx[1,1])<sp/>&lt;<sp/>1e-10<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1af322b5f9effda73cf2e462e66113e122" kindref="member">iq_mx</ref>iq_mx[1,1]&lt;0:</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sigma_q<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sigma_q<sp/>=<sp/>math.sqrt(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1af322b5f9effda73cf2e462e66113e122" kindref="member">iq_mx</ref>iq_mx[1,1])</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mag<sp/>=<sp/>abs(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix_1adf9cd0489fa53c03e2bc0979d388ef6e" kindref="member">complex_mean</ref>complex_mean)</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sigma_theta<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(mag)<sp/>&gt;<sp/>1e-15:</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sigma_theta<sp/>=<sp/>math.atan(<sp/>sigma_q/mag)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sigma_theta*sigma_theta</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#return<sp/>scipy.stats.circvar(<sp/>np.array([<sp/>cmath.phase(val)<sp/>for<sp/>val<sp/>in<sp/>self.data<sp/>]),<sp/>high=math.pi,<sp/>low=-1*math.pi<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#return<sp/>(math.atan(<sp/>math.sqrt(self.iq_mx[1,1])/abs(self.complex_mean)<sp/>))**2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#m2<sp/>=<sp/>abs(self.complex_mean)*abs(self.complex_mean)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#return<sp/>math.asin(self.iq_mx[1,1]/m2)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240" refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap" kindref="compound">ChannelToBandMap</ref>(object):</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1ad7dd6942995d171fcf8acb1520d7c1cf" kindref="member">__init__</ref>(self,<sp/>map_type,<sp/>filename=None):</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#map<sp/>type<sp/>should<sp/>be<sp/>a<sp/>string<sp/>specifying:<sp/>&quot;vgos&quot;,<sp/>&quot;mixed&quot;<sp/>(vgos<sp/>against<sp/>sx),<sp/>bbmixed<sp/>(vgos<sp/>against<sp/>vgos<sp/>in<sp/>an<sp/>sx<sp/>sessions),<sp/><sp/>&quot;sx&quot;,<sp/>or<sp/>&quot;file&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#file<sp/>is<sp/>available<sp/>to<sp/>define<sp/>custom<sp/>channel<sp/>to<sp/>band<sp/>mappings,<sp/>whereas<sp/>the<sp/>others</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#use<sp/>&apos;standard&apos;<sp/>channel<sp/>assignments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a914d867bcec4e2d72d37ecae377a5c5a" kindref="member">map_type</ref>map_type<sp/>=<sp/>map_type.upper()</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a0f7c196a507f8d8a51031e7b6997e4a2" kindref="member">band_list</ref>band_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aa5d743f0574f9bd29c76c07eaedef893" kindref="member">pol_list</ref>pol_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a619f48682bad742c83d181b6460adb1c" kindref="member">channel_to_band_pol</ref>channel_to_band_pol<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a914d867bcec4e2d72d37ecae377a5c5a" kindref="member">map_type</ref>map_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;VGOS&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#setup<sp/>and<sp/>use<sp/>vgos<sp/>standard<sp/>channel<sp/>&lt;-&gt;<sp/>band<sp/>mapping,<sp/>this<sp/>set<sp/>up<sp/>is<sp/>typical<sp/>for<sp/>4x<sp/>RDBE&apos;s</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a0f7c196a507f8d8a51031e7b6997e4a2" kindref="member">band_list</ref>band_list<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;A&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;B&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;C&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;D&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aa5d743f0574f9bd29c76c07eaedef893" kindref="member">pol_list</ref>pol_list<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Y&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;A:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X00LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X01LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X02LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X03LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X04LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X05LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X06LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X07LX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;B:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X08LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X09LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X10LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X11LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X12LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X13LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X14LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X15LX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;C:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X16LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X17LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X18LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X19LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X20LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X21LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X22LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X23LX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;D:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X24LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X25LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X26LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X27LX&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X28LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X29LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X30LX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X31LX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;A:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X00LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X01LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X02LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X03LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X04LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X05LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X06LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X07LY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;B:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X08LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X09LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X10LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X11LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X12LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X13LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X14LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X15LY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;C:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X16LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X17LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X18LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X19LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X20LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X21LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X22LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X23LY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;D:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X24LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X25LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X26LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X27LY&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X28LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X29LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X30LY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X31LY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a914d867bcec4e2d72d37ecae377a5c5a" kindref="member">map_type</ref>map_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;MIXED&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#vgos-as-sx<sp/>channel<sp/>to<sp/>band<sp/>mapping<sp/>for<sp/>stations<sp/>with<sp/>RDBE&apos;s<sp/>(in<sp/>this<sp/>case<sp/>band-X<sp/>is<sp/>split<sp/>between<sp/>two<sp/>different<sp/>samplers<sp/>B<sp/>and<sp/>C<sp/>that<sp/>have<sp/>different<sp/>LO&apos;s)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a0f7c196a507f8d8a51031e7b6997e4a2" kindref="member">band_list</ref>band_list<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;A&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;B&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;C&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aa5d743f0574f9bd29c76c07eaedef893" kindref="member">pol_list</ref>pol_list<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Y&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;A:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;S00UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S01UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S02UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S03UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S04UX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;A:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;S00UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S01UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S02UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S03UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S04UY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;B:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X05UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X06UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X07UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X08UX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;B:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X05UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X06UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X07UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X08UY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;C:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X09UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X10UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X11UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X12UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X13UX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;C:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X09UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X10UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X11UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X12UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X13UY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a914d867bcec4e2d72d37ecae377a5c5a" kindref="member">map_type</ref>map_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;BBMIXED&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#use<sp/>vgos-as-sx<sp/>standard<sp/>channel<sp/>to<sp/>band<sp/>mapping</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a0f7c196a507f8d8a51031e7b6997e4a2" kindref="member">band_list</ref>band_list<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;A&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;B&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;D&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aa5d743f0574f9bd29c76c07eaedef893" kindref="member">pol_list</ref>pol_list<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Y&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;A:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;S00UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S01UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S02UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S03UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S04UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S05UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S06UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S07UX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;A:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;S00UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S01UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S02UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S03UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S04UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S05UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S06UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S07UY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;B:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;C08UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C09UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C10UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C11UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C12UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C13UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C14UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C15UX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;B:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;C08UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C09UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C10UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C11UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C12UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C13UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C14UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;C15UY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;C:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X16UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X17UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X18UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X19UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X20UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X21UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X22UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X23UX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;C:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X16UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X17UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X18UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X19UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X20UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X21UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X22UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X23UY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;D:X&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X24UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X25UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X26UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X27UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X28UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X29UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X30UX&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X31UX&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;D:Y&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X24UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X25UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X26UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X27UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X28UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X29UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X30UY&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X31UY&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a914d867bcec4e2d72d37ecae377a5c5a" kindref="member">map_type</ref>map_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;SX&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#use<sp/>SX<sp/>standard<sp/>channel<sp/>to<sp/>band<sp/>mapping</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a0f7c196a507f8d8a51031e7b6997e4a2" kindref="member">band_list</ref>band_list<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;S&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aa5d743f0574f9bd29c76c07eaedef893" kindref="member">pol_list</ref>pol_list<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;R&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;S:R&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;S00UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;S01UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;S02UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;S03UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;S04UR&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[</highlight><highlight class="stringliteral">&apos;X:R&apos;</highlight><highlight class="normal">]<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;X05UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X06UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X07UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X08UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X09UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X10UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X11UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X12UR&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;X13UR&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a914d867bcec4e2d72d37ecae377a5c5a" kindref="member">map_type</ref>map_type<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;FILE&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>filename<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#use<sp/>a<sp/>custom<sp/>band<sp/>&lt;-&gt;<sp/>channel<sp/>mapping<sp/>defined<sp/>in<sp/>a<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.error(</highlight><highlight class="stringliteral">&quot;Error:<sp/>file<sp/>band-channel<sp/>map<sp/>not<sp/>yet<sp/>implemented!&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.exit(</highlight><highlight class="stringliteral">&apos;Error:<sp/>file<sp/>band-channel<sp/>map<sp/>not<sp/>yet<sp/>implemented!&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#set<sp/>up<sp/>inverse<sp/>map</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>b<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a0f7c196a507f8d8a51031e7b6997e4a2" kindref="member">band_list</ref>band_list:</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aa5d743f0574f9bd29c76c07eaedef893" kindref="member">pol_list</ref>pol_list:</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bp<sp/>=<sp/>b<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal"><sp/>+<sp/>p</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ch<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel[bp]:</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a619f48682bad742c83d181b6460adb1c" kindref="member">channel_to_band_pol</ref>channel_to_band_pol[ch]<sp/>=<sp/>bp</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a8381107a8e401e793a5809711ad10c85" kindref="member">list_types</ref>(self):</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&quot;VGOS&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;MIXED&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;BBMIXED&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;SX&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a5e89b0c55f86871059cc472be048bcf6" kindref="member">get_band_pol_from_channel_name</ref>(self,<sp/>channel_name):</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pol<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>channel_name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a619f48682bad742c83d181b6460adb1c" kindref="member">channel_to_band_pol</ref>channel_to_band_pol:</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band,<sp/>pol<sp/>=<sp/>(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a619f48682bad742c83d181b6460adb1c" kindref="member">channel_to_band_pol</ref>channel_to_band_pol[channel_name]).split(</highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>band,<sp/>pol</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1ab14a0ef4620d1f9a1eab650f15bc9266" kindref="member">get_channels_from_band_pol</ref>(self,<sp/>band,<sp/>pol):</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bp<sp/><sp/>=<sp/>band<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal"><sp/>+<sp/>pol</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bp<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel:</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a7f7f35d7e4ab91e955641eb7a4554178" kindref="member">band_pol_to_channel</ref>band_pol_to_channel</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a228da59a22fb217c9b16c8f396bcfb41" kindref="member">does_ovex_contain_current_channel_setup</ref>(self,<sp/>ovex_filename,<sp/>mk4_site_id):</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;check<sp/>ovex<sp/>file<sp/>for<sp/>the<sp/>current<sp/>channel<sp/>setup<sp/>for<sp/>a<sp/>specified<sp/>station&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(ovex_filename):</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#get<sp/>the<sp/>ovex<sp/>data<sp/>from<sp/>the<sp/>root<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ovex<sp/>=<sp/>vexpy.get_ovex(ovex_filename)</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#locate<sp/>the<sp/>station<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>st_index<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,<sp/>ovex.nst)):</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>str(<sp/>ovex.st[n].mk4_site_id.decode()<sp/>)<sp/>==<sp/>mk4_site_id:</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>st_index<sp/>=<sp/>n</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#fill<sp/>it<sp/>in<sp/>and<sp/>run<sp/>through<sp/>and<sp/>populate<sp/>the<sp/>channel<sp/>entries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ch<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,<sp/>MAX_CHAN)):</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel_name<sp/>=<sp/>str(<sp/>ovex.st[st_index].channels[ch].chan_name.decode()<sp/>)</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(channel_name)<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>channel_name<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a619f48682bad742c83d181b6460adb1c" kindref="member">channel_to_band_pol</ref>channel_to_band_pol.keys():</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.error(</highlight><highlight class="stringliteral">&quot;Error<sp/>a<sp/>channel:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>channel_name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>that<sp/>is<sp/>not<sp/>in<sp/>the<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a914d867bcec4e2d72d37ecae377a5c5a" kindref="member">map_type</ref>map_type<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>band<sp/>&lt;-&gt;<sp/>channel<sp/>map<sp/>keys<sp/>in:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>ovex_filename)</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#This<sp/>disables<sp/>proxy-cable-cal<sp/>delay<sp/>fitting<sp/>for<sp/>the<sp/>scan<sp/>associated<sp/>with<sp/>this<sp/>root-file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>success</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aca19568e12df25de8f177d794afc8234" kindref="member">construct_band_pol_keys</ref>(self,<sp/>bands_to_use,<sp/>pols_to_use):</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blist<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a392ea96bd8678d73abb14f9bdef937d7" kindref="member">intersecting_band_subset</ref>intersecting_band_subset(bands_to_use)</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plist<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a6bc1226553f90fb09a7bd91e0fb575f2" kindref="member">intersecting_pol_subset</ref>intersecting_pol_subset(pols_to_use)</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bp_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>b<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>blist:</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>plist:</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bp_list.append(b<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal"><sp/>+<sp/>p)</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>bp_list</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a392ea96bd8678d73abb14f9bdef937d7" kindref="member">intersecting_band_subset</ref>(self,<sp/>bands_to_use):</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#if<sp/>bands_to_use_list<sp/>is<sp/>empty,<sp/>or<sp/>doesn&apos;t<sp/>intersect<sp/>with<sp/>the<sp/>current<sp/>modes<sp/>band</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#list,<sp/>then<sp/>we<sp/>default<sp/>to<sp/>using<sp/>the<sp/>entire<sp/>band<sp/>list<sp/>of<sp/>the<sp/>current<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blist<sp/>=<sp/>[b<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>b<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>bands_to_use<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>b<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a0f7c196a507f8d8a51031e7b6997e4a2" kindref="member">band_list</ref>band_list]</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(blist)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blist<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a0f7c196a507f8d8a51031e7b6997e4a2" kindref="member">band_list</ref>band_list</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>blist</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1a6bc1226553f90fb09a7bd91e0fb575f2" kindref="member">intersecting_pol_subset</ref>(self,<sp/>pols_to_use):</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#if<sp/>bands_to_use_list<sp/>is<sp/>empty,<sp/>or<sp/>doesn&apos;t<sp/>intersect<sp/>with<sp/>the<sp/>current<sp/>modes<sp/>band</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#list,<sp/>then<sp/>we<sp/>default<sp/>to<sp/>using<sp/>the<sp/>entire<sp/>band<sp/>list<sp/>of<sp/>the<sp/>current<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plist<sp/>=<sp/>[p<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>pols_to_use<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aa5d743f0574f9bd29c76c07eaedef893" kindref="member">pol_list</ref>pol_list]</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(plist)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plist<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap_1aa5d743f0574f9bd29c76c07eaedef893" kindref="member">pol_list</ref>pol_list</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>plist</highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight></codeline>
<codeline lineno="379" refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection" kindref="compound">SingleChannelPhasorCollection</ref>(object):</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;<sp/>object<sp/>to<sp/>store<sp/>the<sp/>phase-cal<sp/>phasors<sp/>for<sp/>a<sp/>single<sp/>channel<sp/>over<sp/>a<sp/>complete<sp/>scan<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1adc948c383cbef72107cfec104eedc0ea" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#default<sp/>values<sp/>for<sp/>init,<sp/>these<sp/>must<sp/>be<sp/>set<sp/>externally</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1adba221f77ca5b6f9935ab7f4ccf0d9e6" kindref="member">channel_name</ref>channel_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ab935111869af536a07d138d426da619a" kindref="member">sky_frequency</ref>sky_frequency<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a48b410211d030805d2c765f36109a750" kindref="member">bandwidth</ref>bandwidth<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a3db80a8b92439ec1b912c80f74473c5d" kindref="member">net_sideband</ref>net_sideband<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ac8a9761f705410de025291b022055271" kindref="member">sideband_sign</ref>sideband_sign<sp/>=<sp/>-1.0</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a2193c0553f16aaf82754e968026294c8" kindref="member">polarization</ref>polarization<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a3dac7358cbf87dc9225e2e4957834977" kindref="member">pcal_base_freq</ref>pcal_base_freq<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1adf9a19d62188fd8885d806a94fbffcfc" kindref="member">sample_rate</ref>sample_rate<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#these<sp/>quantities<sp/>are<sp/>set<sp/>up<sp/>when<sp/>initialize<sp/>is<sp/>called<sp/>and<sp/>computed<sp/>from<sp/>the<sp/>ovex<sp/>info</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a075fef75132ac46e17bcd962c4c626c5" kindref="member">tone_low</ref>tone_low<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a024828bff07ebe07fbf8058a6f624a83" kindref="member">tone_high</ref>tone_high<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a6dca20076e4978298859e463545df4d0" kindref="member">tone_offset_freq_array</ref>tone_offset_freq_array<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a78138e7d7923d97f700939e204debbc0" kindref="member">tone_physical_freq_array</ref>tone_physical_freq_array<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#these<sp/>quantities<sp/>are<sp/>set<sp/>up<sp/>when<sp/>the<sp/>typ309<sp/>data<sp/>is<sp/>read<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#phasors<sp/>are<sp/>stored<sp/>in<sp/>2d<sp/>array<sp/>index<sp/>by<sp/>[tone_index,<sp/>ap_index]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a0a01f01a19fa8de087f00c20b6943e3e" kindref="member">phasor</ref>phasor<sp/>=<sp/>np.zeros((1,1),dtype=complex)</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a4c5e60b62e6ce44ae1d7859d32167a41" kindref="member">phasor_integer</ref>phasor_integer<sp/>=<sp/>np.zeros((1,1),<sp/>dtype=</highlight><highlight class="stringliteral">&apos;2uint32&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#frequency/time<sp/>intervals<sp/>allow<sp/>look-up<sp/>of<sp/>the<sp/>tone/time<sp/>value<sp/>associated</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#with<sp/>each<sp/>phasor<sp/>by<sp/>its<sp/>index</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a2f810bb69f9421137a82e08cb20631e1" kindref="member">frequency_interval</ref>frequency_interval<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a58ae2dbf714265dfab766fd5a5e76dcb" kindref="member">time_interval</ref>time_interval<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#the<sp/>results<sp/>we<sp/>are<sp/>after<sp/>(time<sp/>averaged<sp/>phasors<sp/>for<sp/>each<sp/>tone<sp/>in<sp/>this<sp/>channel)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a1745732c5f8aacd0d122b54c19c77eb6" kindref="member">rotated_by_reference</ref>rotated_by_reference=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a5a9a1e4f2ce7b22527cdb5644c16a78d" kindref="member">freq_phasor_pairs</ref>freq_phasor_pairs<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1affa1c4c2a30ac7f180e396713f998c85" kindref="member">initialize</ref>(self):</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;construct<sp/>the<sp/>expected<sp/>number<sp/>of<sp/>physical<sp/>tones<sp/>and<sp/>their<sp/>locations&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a3db80a8b92439ec1b912c80f74473c5d" kindref="member">net_sideband</ref>net_sideband<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;U&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ac8a9761f705410de025291b022055271" kindref="member">sideband_sign</ref>sideband_sign<sp/>=<sp/>1.0</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a075fef75132ac46e17bcd962c4c626c5" kindref="member">tone_low</ref>tone_low<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing*math.ceil(<sp/>(<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ab935111869af536a07d138d426da619a" kindref="member">sky_frequency</ref>sky_frequency<sp/>/<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing)<sp/>)</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a024828bff07ebe07fbf8058a6f624a83" kindref="member">tone_high</ref>tone_high<sp/>=<sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing*math.floor(<sp/>(<sp/>(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ab935111869af536a07d138d426da619a" kindref="member">sky_frequency</ref>sky_frequency<sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ac8a9761f705410de025291b022055271" kindref="member">sideband_sign</ref>sideband_sign*self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a48b410211d030805d2c765f36109a750" kindref="member">bandwidth</ref>bandwidth)<sp/>/<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing)<sp/>)</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a3db80a8b92439ec1b912c80f74473c5d" kindref="member">net_sideband</ref>net_sideband<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;L&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ac8a9761f705410de025291b022055271" kindref="member">sideband_sign</ref>sideband_sign<sp/>=<sp/>-1.0</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a024828bff07ebe07fbf8058a6f624a83" kindref="member">tone_high</ref>tone_high<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing*math.floor(<sp/>(<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ab935111869af536a07d138d426da619a" kindref="member">sky_frequency</ref>sky_frequency<sp/>/<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing)<sp/>)</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a075fef75132ac46e17bcd962c4c626c5" kindref="member">tone_low</ref>tone_low<sp/>=<sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing*math.ceil(<sp/>(<sp/>(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ab935111869af536a07d138d426da619a" kindref="member">sky_frequency</ref>sky_frequency<sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ac8a9761f705410de025291b022055271" kindref="member">sideband_sign</ref>sideband_sign*self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a48b410211d030805d2c765f36109a750" kindref="member">bandwidth</ref>bandwidth)<sp/>/<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing)<sp/>)</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.error(</highlight><highlight class="stringliteral">&quot;Error,<sp/>channel<sp/>with<sp/>net-sideband<sp/>not<sp/>L<sp/>or<sp/>U<sp/>present.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.exit(</highlight><highlight class="stringliteral">&apos;Error,<sp/>channel<sp/>with<sp/>net-sideband<sp/>not<sp/>L<sp/>or<sp/>U<sp/>present.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones<sp/>=<sp/>int(<sp/>1<sp/>+<sp/>(<sp/>abs(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a024828bff07ebe07fbf8058a6f624a83" kindref="member">tone_high</ref>tone_high<sp/>-<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a075fef75132ac46e17bcd962c4c626c5" kindref="member">tone_low</ref>tone_low)<sp/>/<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing)<sp/>)</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a78138e7d7923d97f700939e204debbc0" kindref="member">tone_physical_freq_array</ref>tone_physical_freq_array<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a6dca20076e4978298859e463545df4d0" kindref="member">tone_offset_freq_array</ref>tone_offset_freq_array<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones)):</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>phys_tone<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a075fef75132ac46e17bcd962c4c626c5" kindref="member">tone_low</ref>tone_low<sp/>+<sp/>n*self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ae512995911eeb4cded49739db168c91e" kindref="member">pcal_spacing</ref>pcal_spacing</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a78138e7d7923d97f700939e204debbc0" kindref="member">tone_physical_freq_array</ref>tone_physical_freq_array.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(phys_tone)</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a6dca20076e4978298859e463545df4d0" kindref="member">tone_offset_freq_array</ref>tone_offset_freq_array.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(phys_tone<sp/>-<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1ab935111869af536a07d138d426da619a" kindref="member">sky_frequency</ref>sky_frequency)</highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1af4e02843d4fb4a0828ac558d26e2db44" kindref="member">compute_time_averaged_phasors</ref>(self,<sp/>trim_length=DISCARD_OFFSET):</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;<sp/>compute<sp/>time<sp/>averaged<sp/>complex<sp/>phasor<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a1745732c5f8aacd0d122b54c19c77eb6" kindref="member">rotated_by_reference</ref>rotated_by_reference=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a5a9a1e4f2ce7b22527cdb5644c16a78d" kindref="member">freq_phasor_pairs</ref>freq_phasor_pairs<sp/>=<sp/>[<sp/>(0.0,<sp/>complex(0.0,<sp/>0.0),<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix" kindref="compound">ComplexReImCovarianceMatrix</ref>(),<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"><sp/>)<sp/>]*self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a5eefca13fc8dd0477fbacaed5da09105" kindref="member">rotated_freq_phasor_pairs</ref>rotated_freq_phasor_pairs<sp/>=<sp/>[<sp/>(0.0,<sp/>complex(0.0,<sp/>0.0),<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix" kindref="compound">ComplexReImCovarianceMatrix</ref>(),<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"><sp/>)<sp/>]*self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>tone_index<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones)):</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ave<sp/>=<sp/>complex(0,0)</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freq<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a2f810bb69f9421137a82e08cb20631e1" kindref="member">frequency_interval</ref>frequency_interval[tone_index].get_center()</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>time_accum<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start_index<sp/>=<sp/>DISCARD_OFFSET</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data_vec<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>trim_length<sp/>!=0<sp/>:</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start_index<sp/>=<sp/>trim_length</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>tone_index<sp/>&lt;<sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a0a01f01a19fa8de087f00c20b6943e3e" kindref="member">phasor</ref>phasor):</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(start_index,<sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a58ae2dbf714265dfab766fd5a5e76dcb" kindref="member">time_interval</ref>time_interval))):</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delta<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a58ae2dbf714265dfab766fd5a5e76dcb" kindref="member">time_interval</ref>time_interval[n].get_width()</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>time_accum<sp/>+=<sp/>delta</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sample<sp/>=<sp/>delta*(<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a0a01f01a19fa8de087f00c20b6943e3e" kindref="member">phasor</ref>phasor[tone_index][n]<sp/>)</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ave<sp/>+=<sp/>sample</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data_vec.append(sample)</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>time_accum<sp/>!=<sp/>0.0:<sp/></highlight><highlight class="comment">#accumulated<sp/>time<sp/>must<sp/>be<sp/>non-zero!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ave<sp/>*=<sp/>1.0/time_accum</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ave<sp/>=<sp/>complex(0.0,0.0)</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(data_vec)==0:</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.error(</highlight><highlight class="stringliteral">&quot;Error,<sp/>phasor<sp/>data<sp/>for<sp/>channel:<sp/>&quot;</highlight><highlight class="normal">,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1adba221f77ca5b6f9935ab7f4ccf0d9e6" kindref="member">channel_name</ref>channel_name,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>are<sp/>missing<sp/>from<sp/>this<sp/>scan.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a5a9a1e4f2ce7b22527cdb5644c16a78d" kindref="member">freq_phasor_pairs</ref>freq_phasor_pairs[tone_index]<sp/>=<sp/>[freq,<sp/>ave,<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix" kindref="compound">ComplexReImCovarianceMatrix</ref>(),<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a5a9a1e4f2ce7b22527cdb5644c16a78d" kindref="member">freq_phasor_pairs</ref>freq_phasor_pairs[tone_index]<sp/>=<sp/>[freq,<sp/>ave,<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1ComplexReImCovarianceMatrix" kindref="compound">ComplexReImCovarianceMatrix</ref>(data_vec),<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1acf92ba5994b9adfeeaa3d72708a7a403" kindref="member">apply_phase_reference_collection</ref>(self,<sp/>reference_scpc):</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Correct<sp/>this<sp/>single<sp/>channel<sp/>phasor<sp/>collection<sp/>by<sp/>a<sp/>set<sp/>of<sp/>reference<sp/>phasors<sp/>for<sp/>the<sp/>same<sp/>channel.</highlight></codeline>
<codeline lineno="468"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>rotates<sp/>the<sp/>phasor<sp/>so<sp/>that<sp/>the<sp/>reference<sp/>phasor<sp/>collection<sp/>has<sp/>a<sp/>phase<sp/>of<sp/>zero<sp/>for<sp/>each<sp/>tone&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#check<sp/>that<sp/>this<sp/>is<sp/>the<sp/>same<sp/>channel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1adba221f77ca5b6f9935ab7f4ccf0d9e6" kindref="member">channel_name</ref>channel_name<sp/>==<sp/>reference_scpc.channel_name<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones<sp/>==<sp/>reference_scpc.ntones:</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#we<sp/>use<sp/>the<sp/>time<sp/>averaged<sp/>values<sp/>of<sp/>the<sp/>reference_phasor_collection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones)):</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;<sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a5a9a1e4f2ce7b22527cdb5644c16a78d" kindref="member">freq_phasor_pairs</ref>freq_phasor_pairs):</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[freq,<sp/>time_ave_ph,<sp/>covar_mx,<sp/>validity_flag]<sp/>=<sp/>reference_scpc.freq_phasor_pairs[n]</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rotation<sp/>=<sp/>time_ave_ph.conjugate()/abs(time_ave_ph)</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a5a9a1e4f2ce7b22527cdb5644c16a78d" kindref="member">freq_phasor_pairs</ref>freq_phasor_pairs[n][1]<sp/>*=<sp/>rotation</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#self.freq_phasor_pairs[n][2].multiply_data_by_complex_scalar(rotation)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a1745732c5f8aacd0d122b54c19c77eb6" kindref="member">rotated_by_reference</ref>rotated_by_reference=</highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.error(</highlight><highlight class="stringliteral">&quot;Error:<sp/>channel<sp/>names<sp/>or<sp/>number<sp/>of<sp/>tones<sp/>do<sp/>not<sp/>match:<sp/>&quot;</highlight><highlight class="normal">,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1adba221f77ca5b6f9935ab7f4ccf0d9e6" kindref="member">channel_name</ref>channel_name,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>:<sp/>&quot;</highlight><highlight class="normal">,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection_1a896126f15f452dca71bf01e226596f23" kindref="member">ntones</ref>ntones,<sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>!=<sp/>&quot;</highlight><highlight class="normal">,<sp/>reference_scpc.channel_name,<sp/></highlight><highlight class="stringliteral">&quot;<sp/>:<sp/>&quot;</highlight><highlight class="normal">,<sp/>reference_scpc.ntones)</highlight></codeline>
<codeline lineno="482"><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="487" refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData" kindref="compound">StationScanPhaseCalibrationData</ref>(object):</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a5877d95c78bd368f0cd01771b779de4d" kindref="member">__init__</ref>(self,<sp/>mk4_site_id,<sp/>ovex_data_file,<sp/>verbosity=0):</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a98ef66ab84ce810499aed322f9f99abd" kindref="member">ovex_data_file</ref>ovex_data_file<sp/>=<sp/>os.path.abspath(ovex_data_file)<sp/></highlight><highlight class="comment">#the<sp/>&apos;root&apos;<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4317b0e83334fd9c6dcbd16afcbd3429" kindref="member">root_suffix</ref>root_suffix<sp/>=<sp/>ovex_data_file[-6:]</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b8150761bf9b35abf8518d8452d4cb3" kindref="member">station_data_file</ref>station_data_file<sp/>=<sp/>os.path.join(<sp/>os.path.dirname(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a98ef66ab84ce810499aed322f9f99abd" kindref="member">ovex_data_file</ref>ovex_data_file),<sp/>mk4_site_id<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;..&quot;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4317b0e83334fd9c6dcbd16afcbd3429" kindref="member">root_suffix</ref>root_suffix)</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1adb76b66637b6ddedbcd822e312f1e21b" kindref="member">mk4_site_id</ref>mk4_site_id<sp/>=<sp/>mk4_site_id<sp/></highlight><highlight class="comment">#single<sp/>character<sp/>station<sp/>Mk4-id</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1c44585587912c431fd518c9e2c40ef9" kindref="member">verbosity</ref>verbosity<sp/>=<sp/>verbosity</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4f8564fbc8e5efb1bd9b12ef8b60d82e" kindref="member">scan_name</ref>scan_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a6f50bfa5ecdf2dd117f87d77f3024dd1" kindref="member">source_name</ref>source_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1abe65e7d59b0831efb0c392943c47a400" kindref="member">exp_name</ref>exp_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a784f6edf504ffb75c5e1b0e221b9fe86" kindref="member">station_code</ref>station_code<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#two<sp/>character<sp/>station<sp/>code</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a32070741b8ccfa930bb2cf63ad1bc9f4" kindref="member">site_name</ref>site_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1aaf6f2ad1748ed0921321dda18e4610e3" kindref="member">sample_rate</ref>sample_rate<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a725eb526c2618d4fed032a74f1870f26" kindref="member">azimuth</ref>azimuth<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a28ae17a33a2a5e5e8f78ab5f519a5c60" kindref="member">elevation</ref>elevation<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1ae84a951409a1e93e89572a3c0dc46a4b" kindref="member">start_time</ref>start_time<sp/>=<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate" kindref="compound">PccDate</ref>()</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a97f73746e85ca751d45c38ef17944dea" kindref="member">fourfit_ref_time</ref>fourfit_ref_time<sp/>=<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1PccDate" kindref="compound">PccDate</ref>()</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1abdf40c9baa7515f8d110fd61d6c0b723" kindref="member">channel_name_list</ref>channel_name_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a9ed432d3b57fd64d576e3fd968229773" kindref="member">max_channel_bandwidth</ref>max_channel_bandwidth<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#these<sp/>contain<sp/>the<sp/>type_309<sp/>data<sp/>(converted<sp/>to<sp/>complex<sp/>floats)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1ac6526c8fe8f80f19b10f7d8e82e73d58" kindref="member">fit_results</ref>fit_results<sp/>=<sp/>dict()<sp/></highlight><highlight class="comment">#contains<sp/>delay-fit<sp/>results<sp/>indexed<sp/>by<sp/>band:pol</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1abec79779ddadfee1341be171d88d6180" kindref="member">valid</ref>valid<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#run<sp/>the<sp/>extraction<sp/>routines</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1af543186c5abb9abe334d3ca51eb302bb" kindref="member">extract_ovex</ref>extract_ovex()</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a2d76209f29b28ac48ad4248309360b34" kindref="member">extract_pcal</ref>extract_pcal()</highlight></codeline>
<codeline lineno="514"><highlight class="normal"></highlight></codeline>
<codeline lineno="515"><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1af543186c5abb9abe334d3ca51eb302bb" kindref="member">extract_ovex</ref>(self):</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;read<sp/>in<sp/>the<sp/>station<sp/>channel<sp/>set<sp/>up<sp/>data<sp/>from<sp/>the<sp/>ovex<sp/>file&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a98ef66ab84ce810499aed322f9f99abd" kindref="member">ovex_data_file</ref>ovex_data_file):</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#get<sp/>the<sp/>ovex<sp/>data<sp/>from<sp/>the<sp/>root<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ovex<sp/>=<sp/>vexpy.get_ovex(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a98ef66ab84ce810499aed322f9f99abd" kindref="member">ovex_data_file</ref>ovex_data_file)</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#get<sp/>the<sp/>scan<sp/>information</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1abe65e7d59b0831efb0c392943c47a400" kindref="member">exp_name</ref>exp_name<sp/>=<sp/>str(<sp/>ovex.exper_name.decode()<sp/>)</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4f8564fbc8e5efb1bd9b12ef8b60d82e" kindref="member">scan_name</ref>scan_name<sp/>=<sp/>str(<sp/>ovex.scan_name.decode()<sp/>)</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1c44585587912c431fd518c9e2c40ef9" kindref="member">verbosity</ref>verbosity<sp/>&gt;<sp/>2:</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.debug(</highlight><highlight class="stringliteral">&quot;Scan<sp/>name<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4f8564fbc8e5efb1bd9b12ef8b60d82e" kindref="member">scan_name</ref>scan_name)</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a6f50bfa5ecdf2dd117f87d77f3024dd1" kindref="member">source_name</ref>source_name<sp/>=<sp/>str(<sp/>ovex.src.source_name.decode()<sp/>)</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1ae84a951409a1e93e89572a3c0dc46a4b" kindref="member">start_time</ref>start_time.initialize_from_date(<sp/>ovex.start_time)</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a97f73746e85ca751d45c38ef17944dea" kindref="member">fourfit_ref_time</ref>fourfit_ref_time.initialize_from_date(<sp/>ovex.ffit_reftime<sp/>)</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#locate<sp/>the<sp/>station<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>st_index<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,<sp/>ovex.nst)):</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>str(<sp/>ovex.st[n].mk4_site_id.decode()<sp/>)<sp/>==<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1adb76b66637b6ddedbcd822e312f1e21b" kindref="member">mk4_site_id</ref>mk4_site_id:</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>st_index<sp/>=<sp/>n</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#fill<sp/>it<sp/>in<sp/>and<sp/>run<sp/>through<sp/>and<sp/>populate<sp/>the<sp/>channel<sp/>entries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a32070741b8ccfa930bb2cf63ad1bc9f4" kindref="member">site_name</ref>site_name<sp/>=<sp/>str(<sp/>ovex.st[st_index].site_name.decode()<sp/>)</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a784f6edf504ffb75c5e1b0e221b9fe86" kindref="member">station_code</ref>station_code<sp/>=<sp/>str(<sp/>ovex.st[st_index].site_id.decode()<sp/>)</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1aaf6f2ad1748ed0921321dda18e4610e3" kindref="member">sample_rate</ref>sample_rate<sp/>=<sp/>ovex.st[st_index].samplerate</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ch<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,<sp/>MAX_CHAN)):</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel_name<sp/>=<sp/>str(<sp/>ovex.st[st_index].channels[ch].chan_name.decode()<sp/>)</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(channel_name)<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1abdf40c9baa7515f8d110fd61d6c0b723" kindref="member">channel_name_list</ref>channel_name_list.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(channel_name)</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pol<sp/>=<sp/>str(<sp/>ovex.st[st_index].channels[ch].polarization.decode()<sp/>)</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sky_freq<sp/>=<sp/>ovex.st[st_index].channels[ch].sky_frequency</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bandwidth_Hz<sp/>=<sp/><sp/>ovex.st[st_index].channels[ch].bandwidth</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bandwidth_Hz<sp/>&gt;<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a9ed432d3b57fd64d576e3fd968229773" kindref="member">max_channel_bandwidth</ref>max_channel_bandwidth:</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a9ed432d3b57fd64d576e3fd968229773" kindref="member">max_channel_bandwidth</ref>max_channel_bandwidth<sp/>=<sp/>bandwidth_Hz</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>net_sb<sp/>=<sp/>str(<sp/>ovex.st[st_index].channels[n].net_sideband.decode()<sp/>)</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcal_space_Hz<sp/>=<sp/>ovex.st[st_index].channels[ch].pcal_spacing</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcal_base_freq_Hz<sp/>=<sp/>ovex.st[st_index].channels[ch].pcal_base_freq</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name]<sp/>=<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1SingleChannelPhasorCollection" kindref="compound">SingleChannelPhasorCollection</ref>()</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].channel_name<sp/>=<sp/>channel_name</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].sky_frequency<sp/>=<sp/>sky_freq</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].bandwidth<sp/>=<sp/>bandwidth_Hz</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].net_sideband<sp/>=<sp/>net_sb</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].polarization<sp/>=<sp/>pol</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].pcal_spacing<sp/>=<sp/>pcal_space_Hz</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].pcal_base_freq<sp/>=<sp/>pcal_base_freq_Hz</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].sample_rate<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1aaf6f2ad1748ed0921321dda18e4610e3" kindref="member">sample_rate</ref>sample_rate</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name].initialize()</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a2d76209f29b28ac48ad4248309360b34" kindref="member">extract_pcal</ref>(self):</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;read<sp/>in<sp/>the<sp/>station<sp/>p-cal<sp/>phasor<sp/>data<sp/>for<sp/>this<sp/>scan<sp/>and<sp/>convert<sp/>to<sp/>usable<sp/>format&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#read<sp/>the<sp/>station<sp/>data<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b8150761bf9b35abf8518d8452d4cb3" kindref="member">station_data_file</ref>station_data_file):</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1c44585587912c431fd518c9e2c40ef9" kindref="member">verbosity</ref>verbosity<sp/>&gt;<sp/>2:</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b8150761bf9b35abf8518d8452d4cb3" kindref="member">station_data_file</ref>station_data_file)</highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>station_data<sp/>=<sp/>mk4io.mk4sdata(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b8150761bf9b35abf8518d8452d4cb3" kindref="member">station_data_file</ref>station_data_file)</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#construct<sp/>a<sp/>channel<sp/>name<sp/>and<sp/>tone<sp/>lookup-table</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tone_freq_to_index<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel_name_to_index<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#first<sp/>have<sp/>to<sp/>loop<sp/>over<sp/>all<sp/>channels<sp/>to<sp/>extract<sp/>the<sp/>tone<sp/>frequencies</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#they<sp/>are<sp/>stored<sp/>sequentially<sp/>in<sp/>the<sp/>freq<sp/>parameter<sp/>of<sp/>each<sp/>channel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#their<sp/>position<sp/>in<sp/>this<sp/>list<sp/>then<sp/>indicates<sp/>the<sp/>position<sp/>of<sp/>the<sp/>corresponding<sp/>phasor<sp/>in<sp/>the<sp/>&apos;acc&apos;<sp/>array</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ch<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,T309_NCHAN)):</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel_name<sp/>=<sp/>str(<sp/>station_data.t309[0].contents.chan[ch].chan_name.decode()<sp/>)</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(channel_name)<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_freq<sp/>=<sp/>station_data.t309[0].contents.chan[ch].freq</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tone_freq_to_index[int(<sp/>round(current_freq,0)<sp/>)]<sp/>=<sp/>ch</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel_name_to_index[channel_name]<sp/>=<sp/>ch</highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>check<sp/>that<sp/>all<sp/>the<sp/>expected<sp/>channels<sp/>are<sp/>present</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(channel_name_to_index.keys())<sp/>==<sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections.keys()):</highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#we<sp/>are<sp/>assuming<sp/>the<sp/>tone-lookup<sp/>and<sp/>channel<sp/>order<sp/>do<sp/>not<sp/>change<sp/>from<sp/>one<sp/>AP<sp/>to<sp/>another</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_ap<sp/>=<sp/>station_data.n309</highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#time<sp/>since<sp/>LSB<sp/>pcal<sp/>sign<sp/>flip</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>after2012d124<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1ae84a951409a1e93e89572a3c0dc46a4b" kindref="member">start_time</ref>start_time.year<sp/>&lt;<sp/>2012<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1ae84a951409a1e93e89572a3c0dc46a4b" kindref="member">start_time</ref>start_time.year<sp/>==<sp/>2012<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1ae84a951409a1e93e89572a3c0dc46a4b" kindref="member">start_time</ref>start_time.day<sp/>&lt;<sp/>124):</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>after2012d124<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>channel_name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections.keys():</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[channel_name]</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#extract<sp/>the<sp/>channel<sp/>name,<sp/>sky_frequency,<sp/>bandwidth<sp/>and<sp/>polarization<sp/>from<sp/>the<sp/>vex</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc.phasor<sp/>=<sp/>np.zeros(<sp/>(scpc.ntones,<sp/>num_ap),<sp/>dtype=complex<sp/>)</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc.phasor_integer<sp/>=<sp/>np.zeros(<sp/>(scpc.ntones,<sp/>num_ap),<sp/>dtype=</highlight><highlight class="stringliteral">&apos;2uint32&apos;</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="603"><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ch<sp/>=<sp/>channel_name_to_index[channel_name]</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#look<sp/>up<sp/>the<sp/>tone<sp/>phasors:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ti<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,<sp/>scpc.ntones)):</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tone_freq<sp/>=<sp/>int(<sp/>round(scpc.tone_offset_freq_array[ti],0)<sp/>)</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>tone_freq<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>tone_freq_to_index:</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tone_phasor_index<sp/>=<sp/>tone_freq_to_index[tone_freq]</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc.frequency_interval.append(<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval" kindref="compound">NumericalInterval</ref>(<sp/>scpc.tone_physical_freq_array[ti],<sp/>0.0<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc.time_interval<sp/>=<sp/>[</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">]*num_ap</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ap<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,num_ap)):</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#assume<sp/>DIFX<sp/>correlator<sp/>(which<sp/>gives<sp/>centroid<sp/>of<sp/>time<sp/>interval)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pc_time<sp/>=<sp/>(station_data.t309[ap].contents.rot<sp/>/<sp/>scpc.bandwidth)</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc.time_interval[ap]<sp/>=<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1NumericalInterval" kindref="compound">NumericalInterval</ref>(pc_time,<sp/>station_data.t309[ap].contents.acc_period)</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>u<sp/>=<sp/>station_data.t309[ap].contents.chan[ch].acc[tone_phasor_index][0]</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>station_data.t309[ap].contents.chan[ch].acc[tone_phasor_index][1]</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><sp/>u<sp/>!=<sp/>0<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>v<sp/>!=<sp/>0<sp/>:</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sample_period<sp/>=<sp/>1.0/scpc.sample_rate</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcp<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b98dd4cabc15ea008376f39182df627" kindref="member">convert_integer_phasor_to_float</ref>convert_integer_phasor_to_float(u,<sp/>v,<sp/>station_data.t309[ap].contents.acc_period,<sp/>sample_period)</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>scpc.net_sideband<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;L&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>after2012d124:<sp/></highlight><highlight class="comment">#correct<sp/>for<sp/>LSB<sp/>pcal<sp/>sign<sp/>flip<sp/>after<sp/>2012y124d</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcp<sp/>=<sp/>pcp.conjugate()</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#pcal_interp.c<sp/>says<sp/>LSB<sp/>needs<sp/>sign<sp/>flip<sp/>and<sp/>180-deg<sp/>offset<sp/>to<sp/>match<sp/>Mk3<sp/>convention,<sp/>done<sp/>by<sp/>flipping<sp/>sign<sp/>of<sp/>real<sp/>part</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#however<sp/>this<sp/>gives<sp/>the<sp/>wrong<sp/>sign<sp/>on<sp/>LSB<sp/>generated<sp/>delays,<sp/>so<sp/>don&apos;t<sp/>do<sp/>this</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#pcp<sp/>=<sp/>complex(<sp/>-1.0*pcp.real,<sp/>pcp.imag)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc.phasor[ti][ap]<sp/>=<sp/>pcp</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc.phasor_integer[ti][ap]<sp/>=<sp/>(u,v)</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc.compute_time_averaged_phasors()</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#also<sp/>extract<sp/>the<sp/>information<sp/>about<sp/>the<sp/>azimuth<sp/>and<sp/>elevation<sp/>at<sp/>the<sp/>site<sp/>of<sp/>interest</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#the<sp/>value<sp/>returned<sp/>is<sp/>the<sp/>(az,<sp/>el)<sp/>model<sp/>evaluated<sp/>at<sp/>the<sp/>beginning<sp/>of<sp/>the<sp/>scan</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#(i.e.<sp/>the<sp/>constant<sp/>term<sp/>in<sp/>the<sp/>model<sp/>polynomial)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a725eb526c2618d4fed032a74f1870f26" kindref="member">azimuth</ref>azimuth<sp/>=<sp/>station_data.model[0].t303[0].contents.azimuth[0]</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a28ae17a33a2a5e5e8f78ab5f519a5c60" kindref="member">elevation</ref>elevation<sp/>=<sp/>station_data.model[0].t303[0].contents.elevation[0]</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1abec79779ddadfee1341be171d88d6180" kindref="member">valid</ref>valid<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>list<sp/>of<sp/>channels<sp/>in<sp/>this<sp/>station<sp/>data<sp/>file<sp/>does<sp/>not<sp/>match</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1c44585587912c431fd518c9e2c40ef9" kindref="member">verbosity</ref>verbosity<sp/>&gt;<sp/>2:</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&apos;Missing<sp/>channels!<sp/>Station<sp/>data<sp/>file<sp/>&apos;</highlight><highlight class="normal">+self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b8150761bf9b35abf8518d8452d4cb3" kindref="member">station_data_file</ref>station_data_file+</highlight><highlight class="stringliteral">&apos;<sp/>has<sp/>&apos;</highlight><highlight class="normal">+str(len(channel_name_to_index.keys()))+</highlight><highlight class="stringliteral">&apos;,<sp/>we<sp/>are<sp/>expecting<sp/>&apos;</highlight><highlight class="normal">+str(len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections.keys())))</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1abec79779ddadfee1341be171d88d6180" kindref="member">valid</ref>valid<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.warning(</highlight><highlight class="stringliteral">&quot;Warning:<sp/>station<sp/>data<sp/>file<sp/>&quot;</highlight><highlight class="normal">+self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b8150761bf9b35abf8518d8452d4cb3" kindref="member">station_data_file</ref>station_data_file+</highlight><highlight class="stringliteral">&quot;<sp/>has<sp/>&quot;</highlight><highlight class="normal">+str(len(channel_name_to_index.keys()))+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>channels,<sp/>we<sp/>are<sp/>expecting<sp/>&quot;</highlight><highlight class="normal">+str(len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections.keys()))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.<sp/>Skipping<sp/>this<sp/>file.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="643"><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1abec79779ddadfee1341be171d88d6180" kindref="member">valid</ref>valid<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.warning(</highlight><highlight class="stringliteral">&quot;Warning:<sp/>failed<sp/>to<sp/>locate<sp/>a<sp/>station<sp/>file:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b8150761bf9b35abf8518d8452d4cb3" kindref="member">station_data_file</ref>station_data_file)</highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4b98dd4cabc15ea008376f39182df627" kindref="member">convert_integer_phasor_to_float</ref>(self,<sp/>u,<sp/>v,<sp/>acc_period,<sp/>sample_period=1e-6):</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;convert<sp/>integer<sp/>pcal<sp/>data<sp/>to<sp/>double<sp/>(taken<sp/>from<sp/>pcal_interp.c)<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#correct<sp/>for<sp/>2&apos;s<sp/>complement<sp/>arithmetic</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>u<sp/>&lt;<sp/>TWO31:</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>u<sp/>=<sp/>u</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>u<sp/>=<sp/>u<sp/>-<sp/>TWO32</highlight></codeline>
<codeline lineno="657"><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/>&lt;<sp/>TWO31:</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>v</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>v<sp/>-<sp/>TWO32</highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#scale<sp/>such<sp/>that<sp/>1000<sp/>=<sp/>100%<sp/>correlation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#and<sp/>match<sp/>SU<sp/>phase<sp/>by<sp/>shifting<sp/>180<sp/>degrees</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#what<sp/>is<sp/>the<sp/>origin<sp/>of<sp/>the<sp/>hard-coded<sp/>value<sp/>128?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pc_real<sp/>=<sp/>(<sp/>float(<sp/>u<sp/>)<sp/>*<sp/>sample_period<sp/>)/(-128.0<sp/>*<sp/>acc_period)</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pc_imag<sp/>=<sp/>(<sp/>float(<sp/>v<sp/>)<sp/>*<sp/>sample_period<sp/>)/(-128.0<sp/>*<sp/>acc_period)</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cp<sp/>=<sp/>complex(pc_real,<sp/>pc_imag)</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cp</highlight></codeline>
<codeline lineno="670"><highlight class="normal"></highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1aa1e2af9d05fcc998e2f9970fd2c5d44e" kindref="member">apply_phase_reference_collection</ref>(self,<sp/>ref_station_spc):</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Correct<sp/>this<sp/>single<sp/>channel<sp/>phasor<sp/>collection<sp/>by<sp/>a<sp/>set<sp/>of<sp/>reference<sp/>phasors<sp/>for<sp/>the<sp/>same<sp/>channel.</highlight></codeline>
<codeline lineno="673"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>rotates<sp/>the<sp/>phasor<sp/>so<sp/>that<sp/>the<sp/>reference<sp/>phasor<sp/>collection<sp/>has<sp/>a<sp/>phase<sp/>of<sp/>zero<sp/>for<sp/>each<sp/>tone&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ref_channel_name,<sp/>reference_scpc<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ref_station_spc.single_channel_phasor_collections.items():</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ref_channel_name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections:</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[ref_channel_name].<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1aa1e2af9d05fcc998e2f9970fd2c5d44e" kindref="member">apply_phase_reference_collection</ref>(reference_scpc)</highlight></codeline>
<codeline lineno="677"><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1af4b352579f31f56303cda893fbf28706" kindref="member">get_tone_phasors_grouped_by_band</ref>(self,<sp/>channel_to_band_map):</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;<sp/>use<sp/>the<sp/>channel<sp/>to<sp/>band<sp/>map<sp/>to<sp/>select<sp/>tones/phasor<sp/>which<sp/>should<sp/>be<sp/>fit<sp/>together</highlight></codeline>
<codeline lineno="680"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>determine<sp/>a<sp/>delay,<sp/>returns<sp/>a<sp/>dictionary<sp/>contains<sp/>lists<sp/>of<sp/>frequency-phasor<sp/>pairs</highlight></codeline>
<codeline lineno="681"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dictionary<sp/>keys<sp/>are<sp/>the<sp/>band:pol<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>grouped_phasors<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>bp<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>channel_to_band_map.band_pol_to_channel.keys():</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>grouped_phasors[bp]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freq_phasor_pair_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>chan<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>channel_to_band_map.band_pol_to_channel[bp]:</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>chan<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections:</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[chan]</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>freq_phasor<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>scpc.freq_phasor_pairs:</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freq_phasor_pair_list.append(freq_phasor)</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#now<sp/>we<sp/>have<sp/>all<sp/>the<sp/>channel-frequency<sp/>phasors,<sp/>sort<sp/>them<sp/>by<sp/>frequency,<sp/>low<sp/>to<sp/>high</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freq_phasor_pair_list.sort(key=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>fq_ph:<sp/>fq_ph[0])</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>grouped_phasors[bp]<sp/>=<sp/>freq_phasor_pair_list</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>grouped_phasors</highlight></codeline>
<codeline lineno="695"><highlight class="normal"></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a001800b75a7f9491e9673725981fc0eb" kindref="member">get_band_reference_frequencies</ref>(self,<sp/>channel_to_band_map):</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;use<sp/>the<sp/>frequencies<sp/>of<sp/>the<sp/>channels<sp/>which<sp/>span<sp/>a<sp/>band<sp/>to</highlight></codeline>
<codeline lineno="698"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>determine<sp/>an<sp/>appropriate<sp/>reference<sp/>frequency&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band_reference_frequencies<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>bp<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>channel_to_band_map.band_pol_to_channel.keys():</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_frequencies<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_frequencies<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>chan<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>channel_to_band_map.band_pol_to_channel[bp]:</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>chan<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections:</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scpc<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a1fde14d1b2071a4be99a781cc705a103" kindref="member">single_channel_phasor_collections</ref>single_channel_phasor_collections[chan]</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel_edge1<sp/>=<sp/>scpc.sky_frequency</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel_edge2<sp/>=<sp/>scpc.sky_frequency<sp/>+<sp/>scpc.sideband_sign*scpc.bandwidth</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_frequencies.append(<sp/><ref refid="max555_8c_1ac6afabdc09a49a433ee19d8a9486056d" kindref="member">min</ref>(channel_edge1,<sp/>channel_edge2)<sp/>)</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_frequencies.append(<sp/><ref refid="max555_8c_1affe776513b24d84b39af8ab0930fef7f" kindref="member">max</ref>(channel_edge1,<sp/>channel_edge2)<sp/>)</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(max_frequencies)<sp/>!=0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>len(min_frequencies)<sp/>!=<sp/>0<sp/>:</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_freq<sp/>=<sp/><ref refid="max555_8c_1affe776513b24d84b39af8ab0930fef7f" kindref="member">max</ref>(max_frequencies)</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_freq<sp/>=<sp/><ref refid="max555_8c_1ac6afabdc09a49a433ee19d8a9486056d" kindref="member">min</ref>(min_frequencies)</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#use<sp/>the<sp/>middle<sp/>of<sp/>the<sp/>band<sp/>as<sp/>the<sp/>reference<sp/>frequency,<sp/>maybe<sp/>we<sp/>should<sp/>use<sp/>the<sp/>DC<sp/>edge<sp/>instead?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ref_freq<sp/>=<sp/>(min_freq<sp/>+<sp/>max_freq)/2.0</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band_reference_frequencies[bp]<sp/>=<sp/>ref_freq</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>band_reference_frequencies</highlight></codeline>
<codeline lineno="717"><highlight class="normal"></highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a9c432376115266d2b2b866a55eb04993" kindref="member">fit_band_delay</ref>(self,<sp/>channel_to_band_map,<sp/>band_pol,<sp/>delay_fitter,<sp/>cut_threshold,<sp/>verbosity=0):</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>#collect<sp/>and<sp/>sort<sp/>the<sp/>phasor<sp/>tones<sp/>by<sp/>band</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band_tone_phasors<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1af4b352579f31f56303cda893fbf28706" kindref="member">get_tone_phasors_grouped_by_band</ref>get_tone_phasors_grouped_by_band(channel_to_band_map)</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band_reference_frequencies<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a001800b75a7f9491e9673725981fc0eb" kindref="member">get_band_reference_frequencies</ref>get_band_reference_frequencies(channel_to_band_map)</highlight></codeline>
<codeline lineno="722"><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#now<sp/>perform<sp/>the<sp/>fit<sp/>for<sp/>this<sp/>band-pol</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>band_pol<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>band_tone_phasors.keys()<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>band_pol<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>band_reference_frequencies.keys():</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band_delay_results<sp/>=<sp/>delay_fitter.fit_band_delay(band_tone_phasors[band_pol],<sp/>band_reference_frequencies[band_pol],<sp/>cut_threshold,<sp/>verbosity)</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.debug(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1a4f8564fbc8e5efb1bd9b12ef8b60d82e" kindref="member">scan_name</ref>scan_name<sp/>+<sp/>band_pol<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>delay<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(band_delay_results.delay)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>offset<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(band_delay_results.phase_offset)<sp/>)</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData_1ac6526c8fe8f80f19b10f7d8e82e73d58" kindref="member">fit_results</ref>fit_results[band_pol]<sp/>=<sp/>band_delay_results</highlight></codeline>
<codeline lineno="728"><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"></highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight></codeline>
<codeline lineno="733" refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection" kindref="compound">StationExperimentPhasorCollection</ref>(object):</highlight></codeline>
<codeline lineno="734"><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;container<sp/>class<sp/>for<sp/>all<sp/>station-scan<sp/>phasor<sp/>data<sp/>for<sp/>the<sp/>whole<sp/>experiment<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ad51576de161915eb1ed62978480054c6" kindref="member">__init__</ref>(self,<sp/>experiment_directory,<sp/>channel_to_band_map,<sp/>mk4_site_id,<sp/>verbosity=0):</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a51ba9b1960cc66b0cdcddf4b55e37169" kindref="member">exp_dir</ref>exp_dir<sp/>=<sp/>os.path.abspath(experiment_directory)</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ad43327b421f0d6563dc4505c5223ecd7" kindref="member">exp_num</ref>exp_num<sp/>=<sp/>os.path.split(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a51ba9b1960cc66b0cdcddf4b55e37169" kindref="member">exp_dir</ref>exp_dir)[1]</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a8f3cbb9884059aa6edb6f42b53313709" kindref="member">channel_to_band_map</ref>channel_to_band_map<sp/>=<sp/>channel_to_band_map</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a0efe2383df50cd2e57c5e6617976b9ee" kindref="member">mk4_site_id</ref>mk4_site_id<sp/>=<sp/>mk4_site_id</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a6fb90056aa56306c68b01e74ed84a18c" kindref="member">exp_name</ref>exp_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adabac573c9b2c63154369ccdddf6bb04" kindref="member">station_code</ref>station_code<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ad82c6664f4ff2437a509a1e0735417a9" kindref="member">reference_scan_name</ref>reference_scan_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adfcde3234dc2a7573685bf4a6398c8b3" kindref="member">reference_scan_object</ref>reference_scan_object<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#list<sp/>of<sp/>scan<sp/>channel<sp/>phasor<sp/>collections</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a4bc321b895e42d0f7a2403934b251003" kindref="member">verbosity</ref>verbosity<sp/>=<sp/>verbosity</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1abc6a3137ec40efb921d74236432f7f84" kindref="member">active_band_pol_list</ref>active_band_pol_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a2c1bbff04b364d7e620884e8f3428bdb" kindref="member">root_files</ref>root_files<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a825d8954d5176fbc41734494b8ec757e" kindref="member">datfile_list</ref>datfile_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="751"><highlight class="normal"></highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1af97b0d19ad400b37a56b9b3b91101f0c" kindref="member">initialize</ref>(self):</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ad4da296cceaef2322783e10f10520a72" kindref="member">locate_root_files</ref>locate_root_files()</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a2c1bbff04b364d7e620884e8f3428bdb" kindref="member">root_files</ref>root_files)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.error(</highlight><highlight class="stringliteral">&quot;Error:<sp/>No<sp/>matching<sp/>root-files<sp/>located.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.exit(</highlight><highlight class="stringliteral">&apos;Error:<sp/>no<sp/>matching<sp/>root-files<sp/>located.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ae1ccef54a15831da343056c581155601" kindref="member">read_in_data</ref>read_in_data()</highlight></codeline>
<codeline lineno="758"><highlight class="normal"></highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ad4da296cceaef2322783e10f10520a72" kindref="member">locate_root_files</ref>(self):</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmp_root_file_list<sp/>=<sp/>ht.recursive_find_root_files(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a51ba9b1960cc66b0cdcddf4b55e37169" kindref="member">exp_dir</ref>exp_dir,<sp/>sort_list=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>exclude_list=</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>max_depth=1)</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.debug(</highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>root<sp/>files<sp/>found<sp/>in<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a51ba9b1960cc66b0cdcddf4b55e37169" kindref="member">exp_dir</ref>exp_dir<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>is:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(len(tmp_root_file_list))<sp/>)</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#now<sp/>we<sp/>go<sp/>through<sp/>the<sp/>root_file_list<sp/>and<sp/>ensure<sp/>that<sp/>there<sp/>is<sp/>only<sp/>one<sp/>root-file<sp/>per<sp/>scan</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_file_dict<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>rf<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>tmp_root_file_list:</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a8f3cbb9884059aa6edb6f42b53313709" kindref="member">channel_to_band_map</ref>channel_to_band_map.does_ovex_contain_current_channel_setup(rf,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a0efe2383df50cd2e57c5e6617976b9ee" kindref="member">mk4_site_id</ref>mk4_site_id):</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_dir<sp/>=<sp/>os.path.dirname(rf)</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>scan_dir<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>root_file_dict:</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.warning(</highlight><highlight class="stringliteral">&quot;Warning:<sp/>duplicate<sp/>root<sp/>file<sp/>present!<sp/>Replacing<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>root_file_dict[scan_dir]<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>with<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>rf)</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_file_dict[scan_dir]<sp/>=<sp/>rf</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a2c1bbff04b364d7e620884e8f3428bdb" kindref="member">root_files</ref>root_files<sp/>=<sp/>list(root_file_dict.values())</highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ae1ccef54a15831da343056c581155601" kindref="member">read_in_data</ref>(self):</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>rf<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a2c1bbff04b364d7e620884e8f3428bdb" kindref="member">root_files</ref>root_files:</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sspc<sp/>=<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1StationScanPhaseCalibrationData" kindref="compound">StationScanPhaseCalibrationData</ref>(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a0efe2383df50cd2e57c5e6617976b9ee" kindref="member">mk4_site_id</ref>mk4_site_id,<sp/>rf,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a4bc321b895e42d0f7a2403934b251003" kindref="member">verbosity</ref>verbosity)</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sspc.valid<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(sspc)</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#now<sp/>sort<sp/>the<sp/>list<sp/>in<sp/>time<sp/>order<sp/>using<sp/>the<sp/>scan<sp/>start<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list.sort(key<sp/>=<sp/></highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>x:<sp/>x.start_time)</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adabac573c9b2c63154369ccdddf6bb04" kindref="member">station_code</ref>station_code<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list[0].station_code</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a6fb90056aa56306c68b01e74ed84a18c" kindref="member">exp_name</ref>exp_name<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list[0].exp_name</highlight></codeline>
<codeline lineno="783"><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1aa5329cc3801f18f88880afd713db2591" kindref="member">apply_start_as_phase_reference</ref>(self):</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;apply<sp/>the<sp/>first<sp/>scan<sp/>as<sp/>the<sp/>phase<sp/>reference<sp/>to<sp/>all<sp/>other<sp/>scan-phasor<sp/>collections<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#rotates<sp/>all<sp/>phasor<sp/>collections<sp/>such<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#the<sp/>time<sp/>average<sp/>of<sp/>the<sp/>earliest<sp/>(reference)<sp/>phasor<sp/>collection<sp/>has</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#a<sp/>phase<sp/>of<sp/>zero<sp/>for<sp/>all<sp/>tones</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.debug(</highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>scans<sp/>=<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list)<sp/>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>for<sp/>station:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adabac573c9b2c63154369ccdddf6bb04" kindref="member">station_code</ref>station_code<sp/>)</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adfcde3234dc2a7573685bf4a6398c8b3" kindref="member">reference_scan_object</ref>reference_scan_object<sp/>=<sp/>copy.deepcopy(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list[0])</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ad82c6664f4ff2437a509a1e0735417a9" kindref="member">reference_scan_name</ref>reference_scan_name<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adfcde3234dc2a7573685bf4a6398c8b3" kindref="member">reference_scan_object</ref>reference_scan_object.scan_name</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>sspc<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list:</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sspc.apply_phase_reference_collection(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adfcde3234dc2a7573685bf4a6398c8b3" kindref="member">reference_scan_object</ref>reference_scan_object)</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1aa2004926359209bf62b36eebb3146860" kindref="member">apply_arbitrary_scan_as_phase_reference</ref>(self,scan_name):</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;apply<sp/>a<sp/>selected<sp/>scan<sp/>as<sp/>the<sp/>phase<sp/>reference<sp/>to<sp/>all<sp/>other<sp/>scan-phasor<sp/>collections<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#search<sp/>for<sp/>the<sp/>scan<sp/>we<sp/>want<sp/>to<sp/>use:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found_scan<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>sspc<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list:</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sspc.scan_name<sp/>==<sp/>scan_name:</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found_scan<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adfcde3234dc2a7573685bf4a6398c8b3" kindref="member">reference_scan_object</ref>reference_scan_object<sp/>=<sp/>copy.deepcopy(sspc)</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ad82c6664f4ff2437a509a1e0735417a9" kindref="member">reference_scan_name</ref>reference_scan_name<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adfcde3234dc2a7573685bf4a6398c8b3" kindref="member">reference_scan_object</ref>reference_scan_object.scan_name</highlight></codeline>
<codeline lineno="805"><highlight class="normal"></highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>found_scan<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.warning(</highlight><highlight class="stringliteral">&quot;Warning,<sp/>could<sp/>not<sp/>find<sp/>specified<sp/>phase<sp/>reference<sp/>scan:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/><sp/>scan_name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>falling<sp/>back<sp/>to<sp/>first<sp/>scan.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1aa5329cc3801f18f88880afd713db2591" kindref="member">apply_start_as_phase_reference</ref>apply_start_as_phase_reference()</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>sspc<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list:</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sspc.apply_phase_reference_collection(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adfcde3234dc2a7573685bf4a6398c8b3" kindref="member">reference_scan_object</ref>reference_scan_object)</highlight></codeline>
<codeline lineno="812"><highlight class="normal"></highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a9b2bc0ed61c335acd15eabcf211419e0" kindref="member">get_refererence_scan</ref>(self):</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adfcde3234dc2a7573685bf4a6398c8b3" kindref="member">reference_scan_object</ref>reference_scan_object</highlight></codeline>
<codeline lineno="815"><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1ac1cdb7edbf46e96c9a285ae4e6e92e36" kindref="member">fit_scan_band_delays</ref>(self,<sp/>active_band_pol_list,<sp/>method=&apos;basinhopping&apos;,<sp/><sp/>trim_length=DISCARD_OFFSET,<sp/>\</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cut_threshold=2.5,<sp/>outputdir=&quot;./&quot;,<sp/>verbosity=0,<sp/>use_progress_ticker=False):</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;fit<sp/>each<sp/>scan-band<sp/>phasor<sp/>data<sp/>for<sp/>a<sp/>delay&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="820"><highlight class="normal"></highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#first<sp/>construct<sp/>the<sp/>fitter<sp/>object<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delay_fitter<sp/>=<sp/><ref refid="classvpal_1_1pcc__delay__fitting_1_1BandDelayFitter" kindref="compound">pcc_delay_fitting.BandDelayFitter</ref>()</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1abc6a3137ec40efb921d74236432f7f84" kindref="member">active_band_pol_list</ref>active_band_pol_list<sp/>=<sp/>active_band_pol_list</highlight></codeline>
<codeline lineno="824"><highlight class="normal"></highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#now<sp/>for<sp/>each<sp/>station-scan<sp/>phasor<sp/>data<sp/>collection,<sp/>do<sp/>the<sp/>fit<sp/>for<sp/>the<sp/>active<sp/>band-pols</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>use_progress_ticker<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prog_bar<sp/>=<sp/><ref refid="classvpal_1_1utility_1_1Bar" kindref="compound">Bar</ref>(</highlight><highlight class="stringliteral">&apos;progress:<sp/>&apos;</highlight><highlight class="normal">,<sp/>max=len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list))</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>sspc<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list:</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>bp<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1abc6a3137ec40efb921d74236432f7f84" kindref="member">active_band_pol_list</ref>active_band_pol_list:</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delay_fitter.channel_bandwidth<sp/>=<sp/>sspc.max_channel_bandwidth</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sspc.fit_band_delay(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a8f3cbb9884059aa6edb6f42b53313709" kindref="member">channel_to_band_map</ref>channel_to_band_map,<sp/>bp,<sp/>delay_fitter,<sp/>cut_threshold,<sp/>verbosity)</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>use_progress_ticker<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prog_bar.next()</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>use_progress_ticker<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prog_bar.finish()</highlight></codeline>
<codeline lineno="836"><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a4f77e13fbbd97d02e23c548bdf3845bb" kindref="member">generate_dat_files</ref>(self,<sp/>pcc_config):</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;create<sp/>a<sp/>.dat<sp/>file<sp/>containg<sp/>the<sp/>proxy-cable-cal<sp/>delay<sp/>information<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"></highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.exists(pcc_config.output_dir):</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.makedirs(pcc_config.output_dir)</highlight></codeline>
<codeline lineno="842"><highlight class="normal"></highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>station_code<sp/>=<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1adabac573c9b2c63154369ccdddf6bb04" kindref="member">station_code</ref>station_code</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>bp<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1abc6a3137ec40efb921d74236432f7f84" kindref="member">active_band_pol_list</ref>active_band_pol_list:</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band,<sp/>pol<sp/>=<sp/>bp.split(</highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datfile_name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;bandmodel.&quot;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a6fb90056aa56306c68b01e74ed84a18c" kindref="member">exp_name</ref>exp_name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a0efe2383df50cd2e57c5e6617976b9ee" kindref="member">mk4_site_id</ref>mk4_site_id<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal"><sp/>+<sp/>band<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal"><sp/>+<sp/>pol<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.dat&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(os.path.join(pcc_config.output_dir,<sp/>datfile_name)<sp/>,</highlight><highlight class="stringliteral">&apos;w&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>datfile:</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pcc_config.include_headers<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>header_line<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;#year<sp/>doy<sp/>hour<sp/>minute<sp/>second<sp/>phase_model_midband<sp/>phase_model_dc<sp/>delay_model_ps<sp/>phase_rmse<sp/>scan_name<sp/>source_name<sp/>station_code<sp/>azimuth<sp/>elevation\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datfile.write(header_line)</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>scan<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a03b27a6b7fd3905f2e2f93bcb300d61f" kindref="member">sspc_list</ref>sspc_list:</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>year<sp/>=<sp/>scan.start_time.year</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doy<sp/>=<sp/>scan.start_time.day</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hour<sp/>=<sp/>scan.start_time.hour</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>minute<sp/>=<sp/>scan.start_time.minute</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>second<sp/>=<sp/>scan.start_time.second</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>source_name<sp/>=<sp/>scan.source_name</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_name<sp/>=<sp/>scan.scan_name</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>azi<sp/>=<sp/>scan.azimuth</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ele<sp/>=<sp/>scan.elevation</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bp<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>scan.fit_results.keys():</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>band_delay<sp/>=<sp/>(scan.fit_results[bp].delay)/pcc_delay_fitting.PICOSECOND</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>phase_model_midband<sp/>=<sp/>(scan.fit_results[bp].phase_offset)*(180.0/math.pi)</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>phase_model_dc<sp/>=<sp/>(scan.fit_results[bp].model_dc_phase)*(180.0/math.pi)</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>phase_rmse<sp/>=<sp/>(scan.fit_results[bp].phase_rmse)*(180.0/math.pi)</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print<sp/>the<sp/>data<sp/>line<sp/>out<sp/>to<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(year)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(doy)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(hour)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(minute)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(<sp/>int(round(second,0)<sp/>)<sp/>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(<sp/>round(phase_model_midband,2))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(round(phase_model_dc,2))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(round(band_delay,2))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(round(phase_rmse,2))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>source_name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>scan_name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>station_code<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(round(azi,2))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/>str(round(ele,2))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_line<sp/>+=<sp/></highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datfile.write(output_line)</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection_1a825d8954d5176fbc41734494b8ec757e" kindref="member">datfile_list</ref>datfile_list.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(<sp/>os.path.join(pcc_config.output_dir,<sp/>datfile_name)<sp/>)</highlight></codeline>
<codeline lineno="885"><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"></highlight></codeline>
<codeline lineno="887"><highlight class="normal"></highlight></codeline>
<codeline lineno="889"><highlight class="normal"></highlight></codeline>
<codeline lineno="890"><highlight class="normal"></highlight></codeline>
<codeline lineno="891"><highlight class="normal"></highlight></codeline>
<codeline lineno="892" refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay" kindref="compound">ScanPccBandDelay</ref>(object):</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;class<sp/>to<sp/>store<sp/>a<sp/>single<sp/>line<sp/>from<sp/>a<sp/>pcc<sp/>band-pol<sp/>delay<sp/>file<sp/>(e.g.<sp/>bandmodel.E.A.X.dat)<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a48b7db40af93271693470878b52e1457" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0d996339477bed38c9fe5b08023c6c61" kindref="member">year</ref>year<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a770f36ead0da2af9d1b97d05579120b1" kindref="member">doy</ref>doy<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a52dd34b059e8511c94f4b9dd17a8c658" kindref="member">hour</ref>hour<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a03bc54fcc30945cb633f6c5c2bed467e" kindref="member">minute</ref>minute<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a20c36beabe3a99cce9b36454fb5512c1" kindref="member">second</ref>second<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1af976e1d8249fee0e0f155849f3bc67fc" kindref="member">phase_model_midband</ref>phase_model_midband<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a5d96017de170d3c63d566cf7dbef5fdd" kindref="member">phase_model_dc</ref>phase_model_dc<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a206f41f12d1c7a6370b5c948c11a5324" kindref="member">delay_model_ps</ref>delay_model_ps<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a57eb0410870de2b713b405fb5cc785cf" kindref="member">phase_rmse</ref>phase_rmse<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a1e780e7879c2eb956b87362b2b0a49de" kindref="member">scan_name</ref>scan_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0dff0271ff983e30ec8cfae35d81156f" kindref="member">source_name</ref>source_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1aadba6d2a6ce1b6eb78b03486ff287de6" kindref="member">station_code</ref>station_code<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0e3b2825c7bfa778e1d17ac063c96830" kindref="member">azimuth</ref>azimuth<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a12695bf454847fdafc944ca43fa8f3a5" kindref="member">elevation</ref>elevation<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="909"><highlight class="normal"></highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a9f0a4e7ae9bc3a83e94f644e2f6e187c" kindref="member">init_from_string</ref>(self,line_string):</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_items<sp/>=<sp/>line_string.split()</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(line_items)<sp/>==<sp/>14:</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0d996339477bed38c9fe5b08023c6c61" kindref="member">year</ref>year<sp/>=<sp/>int(line_items[0])</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a770f36ead0da2af9d1b97d05579120b1" kindref="member">doy</ref>doy<sp/>=<sp/>int(line_items[1])</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a52dd34b059e8511c94f4b9dd17a8c658" kindref="member">hour</ref>hour<sp/>=<sp/>int(line_items[2])</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a03bc54fcc30945cb633f6c5c2bed467e" kindref="member">minute</ref>minute<sp/>=<sp/>int(line_items[3])</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a20c36beabe3a99cce9b36454fb5512c1" kindref="member">second</ref>second<sp/>=<sp/>int(line_items[4])</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1af976e1d8249fee0e0f155849f3bc67fc" kindref="member">phase_model_midband</ref>phase_model_midband<sp/>=<sp/>float(line_items[5])</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a5d96017de170d3c63d566cf7dbef5fdd" kindref="member">phase_model_dc</ref>phase_model_dc<sp/>=<sp/>float(line_items[6])</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a206f41f12d1c7a6370b5c948c11a5324" kindref="member">delay_model_ps</ref>delay_model_ps<sp/>=<sp/>float(line_items[7])</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a57eb0410870de2b713b405fb5cc785cf" kindref="member">phase_rmse</ref>phase_rmse<sp/>=<sp/>float(line_items[8])</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0dff0271ff983e30ec8cfae35d81156f" kindref="member">source_name</ref>source_name<sp/>=<sp/>line_items[9]</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a1e780e7879c2eb956b87362b2b0a49de" kindref="member">scan_name</ref>scan_name<sp/>=<sp/>line_items[10]</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1aadba6d2a6ce1b6eb78b03486ff287de6" kindref="member">station_code</ref>station_code<sp/>=<sp/>line_items[11]</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0e3b2825c7bfa778e1d17ac063c96830" kindref="member">azimuth</ref>azimuth<sp/>=<sp/>float(line_items[12])</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a12695bf454847fdafc944ca43fa8f3a5" kindref="member">elevation</ref>elevation<sp/>=<sp/>float(line_items[13])</highlight></codeline>
<codeline lineno="927"><highlight class="normal"></highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1ac96c1b3854e1a3d724de53d7a86044ad" kindref="member">print_line</ref>(self):</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0d996339477bed38c9fe5b08023c6c61" kindref="member">year</ref>year,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a770f36ead0da2af9d1b97d05579120b1" kindref="member">doy</ref>doy,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a52dd34b059e8511c94f4b9dd17a8c658" kindref="member">hour</ref>hour,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a03bc54fcc30945cb633f6c5c2bed467e" kindref="member">minute</ref>minute,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a20c36beabe3a99cce9b36454fb5512c1" kindref="member">second</ref>second,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1af976e1d8249fee0e0f155849f3bc67fc" kindref="member">phase_model_midband</ref>phase_model_midband,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a5d96017de170d3c63d566cf7dbef5fdd" kindref="member">phase_model_dc</ref>phase_model_dc,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a206f41f12d1c7a6370b5c948c11a5324" kindref="member">delay_model_ps</ref>delay_model_ps,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a57eb0410870de2b713b405fb5cc785cf" kindref="member">phase_rmse</ref>phase_rmse,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a1e780e7879c2eb956b87362b2b0a49de" kindref="member">scan_name</ref>scan_name,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0dff0271ff983e30ec8cfae35d81156f" kindref="member">source_name</ref>source_name,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1aadba6d2a6ce1b6eb78b03486ff287de6" kindref="member">station_code</ref>station_code,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0e3b2825c7bfa778e1d17ac063c96830" kindref="member">azimuth</ref>azimuth,<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a12695bf454847fdafc944ca43fa8f3a5" kindref="member">elevation</ref>elevation<sp/>)</highlight></codeline>
<codeline lineno="930"><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1ab24a78a4c521180384e027366b870f66" kindref="member">is_equal_within_tolerance</ref>(self,scan_pcc_delay_object,<sp/>relative_tolerance=1e-3,<sp/>absolute_tolerance=1e-6):</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0d996339477bed38c9fe5b08023c6c61" kindref="member">year</ref>year<sp/>!=<sp/>scan_pcc_delay_object.year:</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a770f36ead0da2af9d1b97d05579120b1" kindref="member">doy</ref>doy<sp/>!=<sp/>scan_pcc_delay_object.doy:</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a52dd34b059e8511c94f4b9dd17a8c658" kindref="member">hour</ref>hour<sp/>!=<sp/>scan_pcc_delay_object.hour:</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a03bc54fcc30945cb633f6c5c2bed467e" kindref="member">minute</ref>minute<sp/>!=<sp/>scan_pcc_delay_object.minute:</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a20c36beabe3a99cce9b36454fb5512c1" kindref="member">second</ref>second<sp/>!=<sp/>scan_pcc_delay_object.second:</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a1e780e7879c2eb956b87362b2b0a49de" kindref="member">scan_name</ref>scan_name<sp/>!=<sp/>scan_pcc_delay_object.scan_name:</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0dff0271ff983e30ec8cfae35d81156f" kindref="member">source_name</ref>source_name<sp/>!=<sp/>scan_pcc_delay_object.source_name:</highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1aadba6d2a6ce1b6eb78b03486ff287de6" kindref="member">station_code</ref>station_code<sp/>!=<sp/>scan_pcc_delay_object.station_code:</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mk4io.mk4fp_approximately_equal(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1af976e1d8249fee0e0f155849f3bc67fc" kindref="member">phase_model_midband</ref>phase_model_midband,<sp/>scan_pcc_delay_object.phase_model_midband,<sp/>abs_tol=absolute_tolerance,<sp/>rel_tol=relative_tolerance)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mk4io.mk4fp_approximately_equal(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a5d96017de170d3c63d566cf7dbef5fdd" kindref="member">phase_model_dc</ref>phase_model_dc,<sp/>scan_pcc_delay_object.phase_model_dc,<sp/>abs_tol=absolute_tolerance,<sp/>rel_tol=relative_tolerance)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mk4io.mk4fp_approximately_equal(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a206f41f12d1c7a6370b5c948c11a5324" kindref="member">delay_model_ps</ref>delay_model_ps,<sp/>scan_pcc_delay_object.delay_model_ps,<sp/>abs_tol=absolute_tolerance,<sp/>rel_tol=relative_tolerance)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mk4io.mk4fp_approximately_equal(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a57eb0410870de2b713b405fb5cc785cf" kindref="member">phase_rmse</ref>phase_rmse,<sp/>scan_pcc_delay_object.phase_rmse,<sp/>abs_tol=absolute_tolerance,<sp/>rel_tol=relative_tolerance)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mk4io.mk4fp_approximately_equal(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a0e3b2825c7bfa778e1d17ac063c96830" kindref="member">azimuth</ref>azimuth,<sp/>scan_pcc_delay_object.azimuth,<sp/>abs_tol=absolute_tolerance,<sp/>rel_tol=relative_tolerance)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mk4io.mk4fp_approximately_equal(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay_1a12695bf454847fdafc944ca43fa8f3a5" kindref="member">elevation</ref>elevation,<sp/>scan_pcc_delay_object.elevation,<sp/>abs_tol=absolute_tolerance,<sp/>rel_tol=relative_tolerance)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="961"><highlight class="normal"></highlight></codeline>
<codeline lineno="962"><highlight class="normal"></highlight></codeline>
<codeline lineno="963"><highlight class="normal"></highlight></codeline>
<codeline lineno="965"><highlight class="normal"></highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967" refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay" kindref="compound">ExperimentPccBandDelay</ref>(object):</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;&quot;<sp/>container<sp/>class<sp/>for<sp/>the<sp/>proxy-cable-cal<sp/>delays<sp/>for<sp/>a<sp/>single<sp/>station<sp/>over<sp/>the<sp/>course<sp/>of<sp/>a<sp/>whole<sp/>experiment<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1ad72ef4945729e3264ac3d8a422d64120" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1a169f6c730fa0f1332175655a096b0097" kindref="member">experiment_name</ref>experiment_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1ac57d5e3ec6054ed7dcb6e85bf606352e" kindref="member">station_id</ref>station_id<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1a40d3d2bd2fe86922d2f11d3b3449c409" kindref="member">band_name</ref>band_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1a5fac1ba5484b1f8a462298d5758cd38f" kindref="member">pol_name</ref>pol_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1a643bc9b8d00428a498b27b58a5e402bb" kindref="member">format_flag</ref>format_flag<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1af02e97b1dc4894c543159cf1e417c59a" kindref="member">scan_pcc_line_list</ref>scan_pcc_line_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="976"><highlight class="normal"></highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1aa5a1991f8f98136d0edb0520612ad78c" kindref="member">read_file</ref>(self,filename):</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.exists(<sp/>os.path.abspath(filename)<sp/>):</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#parse<sp/>the<sp/>file<sp/>name<sp/>and<sp/>assign<sp/>the<sp/>station,<sp/>band,<sp/>pol<sp/>names</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elem<sp/>=<sp/>(os.path.basename(<sp/>os.path.abspath(filename<sp/>)<sp/>)<sp/>).split(</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(elem)<sp/>!=<sp/>6<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>elem[-1]<sp/>!=<sp/></highlight><highlight class="stringliteral">&apos;dat&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.error(</highlight><highlight class="stringliteral">&apos;Error:<sp/>file:<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>filename<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>does<sp/>not<sp/>have<sp/>a<sp/>correctly<sp/>formatted<sp/>filename&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.exit(</highlight><highlight class="stringliteral">&apos;Error,<sp/>file<sp/>does<sp/>not<sp/>have<sp/>a<sp/>correctly<sp/>formatted<sp/>filename.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1a169f6c730fa0f1332175655a096b0097" kindref="member">experiment_name</ref>experiment_name<sp/>=<sp/>str(elem[1])</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1ac57d5e3ec6054ed7dcb6e85bf606352e" kindref="member">station_id</ref>station_id<sp/>=<sp/>str(elem[2])</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1a40d3d2bd2fe86922d2f11d3b3449c409" kindref="member">band_name</ref>band_name<sp/>=<sp/>str(elem[3])</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1a5fac1ba5484b1f8a462298d5758cd38f" kindref="member">pol_name</ref>pol_name<sp/>=<sp/>str(elem[4])</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#now<sp/>open<sp/>the<sp/>file<sp/>and<sp/>read<sp/>the<sp/>data<sp/>line<sp/>by<sp/>line</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>invalid_lines<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(<sp/>os.path.abspath(filename)<sp/>)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>f:</highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>line<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>f:</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;#&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>line<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>len(line.split())<sp/>==<sp/>14<sp/>:</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_pcc_obj<sp/>=<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1ScanPccBandDelay" kindref="compound">ScanPccBandDelay</ref>()</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_pcc_obj.init_from_string(line)</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentPccBandDelay_1af02e97b1dc4894c543159cf1e417c59a" kindref="member">scan_pcc_line_list</ref>scan_pcc_line_list.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(scan_pcc_obj)</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;#&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>line:</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>invalid_lines<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="998"><highlight class="normal"></highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>invalid_lines<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.warning(</highlight><highlight class="stringliteral">&quot;Warning:<sp/>could<sp/>not<sp/>read<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>invalid_lines<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>invalid<sp/>data<sp/>lines<sp/>in<sp/>file:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>filename)</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"></highlight></codeline>
<codeline lineno="1002"><highlight class="normal"></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight></codeline>
<codeline lineno="1005"><highlight class="normal"></highlight></codeline>
<codeline lineno="1006"><highlight class="normal"></highlight></codeline>
<codeline lineno="1007" refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager" kindref="compound">ExperimentMultibandDelayAverager</ref>(object):</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;simple<sp/>class<sp/>to<sp/>average<sp/>together<sp/>the<sp/>proxy-cable-cal<sp/>delays<sp/>of<sp/>multple<sp/>band-pols<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a00cb16635acea06f7927eb552bbed880" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a7d76cd77d178884b86a7597b69a0916b" kindref="member">band_data_list</ref>band_data_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a0effe1eaef01a0bee07dc919dbe4501f" kindref="member">bands</ref>bands<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1af94cca6342d89276ca0d2e0af62db8a9" kindref="member">pols</ref>pols<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1aa2585f45e8fd13101d76fb87fa56e70b" kindref="member">experiment_name</ref>experiment_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a6d19dc3eca5215ac8eb8445a39f842f1" kindref="member">station_code</ref>station_code<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a27e2988a12a7d13d4dd55446565a3919" kindref="member">scan_year</ref>scan_year<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a2e9087576c26f2cc40fe5a2d97e73bb8" kindref="member">scan_doy</ref>scan_doy<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1afd52749fa1e7de8206686785f391a219" kindref="member">scan_hour</ref>scan_hour<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a4740153123d3c71a0bf820c1e5920a40" kindref="member">scan_min</ref>scan_min<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a5601af57eb4d8cf0c466d8e0b4c1c88b" kindref="member">scan_sec</ref>scan_sec<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a942eb380ab9d370bc9f6c2e85200154c" kindref="member">mean_scan_delay</ref>mean_scan_delay<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a1457055c0ca6d0f0221bc1d68b840d0b" kindref="member">scan_name</ref>scan_name<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a5610e7ca8f390a95c3a66d23f10a5d41" kindref="member">src_name</ref>src_name<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a1080253a78677f629254bacbd547ff8a" kindref="member">scan_id</ref>scan_id<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a8f2289bb3ecad27b771c61177d534003" kindref="member">file_lines</ref>file_lines<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a9c96243da199f880464faee30f8efe47" kindref="member">scan_abs_time</ref>scan_abs_time<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a8945bec46c0810239fb7d981430e832f" kindref="member">scan_rel_time</ref>scan_rel_time<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a4219c481f5699355bb7bf195efb84877" kindref="member">scan_az</ref>scan_az<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a175b1c5cfc7f2ec929ceed4379a7cd0d" kindref="member">scan_el</ref>scan_el<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a9d6e837274f96d3b88c0d9f7affa5543" kindref="member">mean_delay</ref>mean_delay<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1afb4b456d8d3cfcb0cb116ef5349e080e" kindref="member">band_diff</ref>band_diff<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a29d5f21913c98e733a6d73a65f5d5ccc" kindref="member">dual_pol_mean_delay</ref>dual_pol_mean_delay<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"></highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a4849951873cbcdd846a34cedb86aabfa" kindref="member">add_band_data</ref>(self,<sp/>exp_pcc_band_delay_dat):</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;append<sp/>the<sp/>data<sp/>for<sp/>a<sp/>particular<sp/>band-pol<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a6d19dc3eca5215ac8eb8445a39f842f1" kindref="member">station_code</ref>station_code<sp/>=<sp/>exp_pcc_band_delay_dat.scan_pcc_line_list[0].station_code</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a7d76cd77d178884b86a7597b69a0916b" kindref="member">band_data_list</ref>band_data_list.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(exp_pcc_band_delay_dat)</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a0effe1eaef01a0bee07dc919dbe4501f" kindref="member">bands</ref>bands<sp/>+=<sp/>exp_pcc_band_delay_dat.band_name</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1af94cca6342d89276ca0d2e0af62db8a9" kindref="member">pols</ref>pols<sp/>+=<sp/>exp_pcc_band_delay_dat.pol_name</highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#sorted/capitalized/unique</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a0effe1eaef01a0bee07dc919dbe4501f" kindref="member">bands</ref>bands<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">.join(<sp/>sorted(set((self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a0effe1eaef01a0bee07dc919dbe4501f" kindref="member">bands</ref>bands.upper()).strip()))<sp/>)</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1af94cca6342d89276ca0d2e0af62db8a9" kindref="member">pols</ref>pols<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">.join(<sp/>sorted(set((self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1af94cca6342d89276ca0d2e0af62db8a9" kindref="member">pols</ref>pols.upper()).strip()))<sp/>)</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"></highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a4be083aa134462d8c04316725897eadf" kindref="member">average_band_delays</ref>(self):</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;average<sp/>the<sp/>delays&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_bands<sp/>=<sp/>len(self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a7d76cd77d178884b86a7597b69a0916b" kindref="member">band_data_list</ref>band_data_list)</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"></highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#first<sp/>construct<sp/>a<sp/>set<sp/>of<sp/>scan<sp/>names,<sp/>so<sp/>we<sp/>know<sp/>what<sp/>data<sp/>is<sp/>available<sp/>(and<sp/>can<sp/>deal<sp/>with<sp/>missing<sp/>scans<sp/>in<sp/>one<sp/>or<sp/>more<sp/>band/pols)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_name_set<sp/>=<sp/>set()</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,n_bands)):</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>scan_line<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a7d76cd77d178884b86a7597b69a0916b" kindref="member">band_data_list</ref>band_data_list[n].scan_pcc_line_list:</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_name_set.add(<sp/>scan_line.scan_name<sp/>)</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"></highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_name_list<sp/>=<sp/>list(scan_name_set)</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_scans<sp/>=<sp/>len(scan_name_list)</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"></highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#collect<sp/>the<sp/>data<sp/>from<sp/>each<sp/>band</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,n_scans)):</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>missing_bands<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_line_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_name<sp/>=<sp/>scan_name_list[s]</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#find<sp/>the<sp/>data<sp/>for<sp/>this<sp/>scan,<sp/>brute<sp/>force<sp/>search<sp/>with<sp/>no<sp/>finess!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>n<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(range(0,n_bands)):</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>scan_line<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a7d76cd77d178884b86a7597b69a0916b" kindref="member">band_data_list</ref>band_data_list[n].scan_pcc_line_list:</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>scan_line.scan_name<sp/>==<sp/>scan_name:</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_line_list.append(<sp/>scan_line<sp/>)</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>found<sp/>==<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>missing_bands.append(<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a7d76cd77d178884b86a7597b69a0916b" kindref="member">band_data_list</ref>band_data_list[n].band_name<sp/>+<sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a7d76cd77d178884b86a7597b69a0916b" kindref="member">band_data_list</ref>band_data_list[n].pol_name<sp/>)</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#we<sp/>check<sp/>that<sp/>the<sp/>time<sp/>tags<sp/>match<sp/>before<sp/>averaging</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>year<sp/>=<sp/>scan_line_list[0].year</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doy<sp/>=<sp/>scan_line_list[0].doy</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hour<sp/>=<sp/>scan_line_list[0].hour</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>minute<sp/>=<sp/>scan_line_list[0].minute</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>second<sp/>=<sp/>scan_line_list[0].second</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#scan_name<sp/>=<sp/>scan_line_list[0].scan_name<sp/><sp/>#if<sp/>this<sp/>is<sp/>not<sp/>assigned,<sp/>it<sp/>will<sp/>be<sp/>missing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>source_name<sp/>=<sp/>scan_line_list[0].source_name</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>valid<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delay_list<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mean_delay<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(scan_line_list)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>valid<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.warning(</highlight><highlight class="stringliteral">&quot;Warning,<sp/>no<sp/>data<sp/>found<sp/>for<sp/>scan:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>scan_name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>skipping.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#warn<sp/>if<sp/>a<sp/>band<sp/>is<sp/>missing<sp/>from<sp/>the<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(scan_line_list)<sp/>!=<sp/>n_bands:</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.warning(</highlight><highlight class="stringliteral">&quot;Warning,<sp/>data<sp/>missing<sp/>for<sp/>scan:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>scan_name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;from:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(missing_bands))</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>sc<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>scan_line_list:</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>doy<sp/>!=<sp/>sc.doy<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>hour<sp/>!=<sp/>sc.hour<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>minute<sp/>!=<sp/>sc.minute<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>second<sp/>!=<sp/>sc.second<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>source_name<sp/>!=<sp/>sc.source_name:</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcc_logger.warning(</highlight><highlight class="stringliteral">&quot;Warning,<sp/>scan<sp/>time<sp/>stamps<sp/>do<sp/>match,<sp/>skipping:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>scan_name)</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>valid<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#convert<sp/>ps<sp/>to<sp/>sec</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delay_list.append(sc.delay_model_ps)</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>valid<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mean_delay<sp/>=<sp/><sp/>round(np.mean(delay_list),2)</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#delay_stddev<sp/>=<sp/>np.std(delay_list)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a27e2988a12a7d13d4dd55446565a3919" kindref="member">scan_year</ref>scan_year.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(year)</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a2e9087576c26f2cc40fe5a2d97e73bb8" kindref="member">scan_doy</ref>scan_doy.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(doy)</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1afd52749fa1e7de8206686785f391a219" kindref="member">scan_hour</ref>scan_hour.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(hour)</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a4740153123d3c71a0bf820c1e5920a40" kindref="member">scan_min</ref>scan_min.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(minute)</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a5601af57eb4d8cf0c466d8e0b4c1c88b" kindref="member">scan_sec</ref>scan_sec.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(second)</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a942eb380ab9d370bc9f6c2e85200154c" kindref="member">mean_scan_delay</ref>mean_scan_delay.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(mean_delay)</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a5610e7ca8f390a95c3a66d23f10a5d41" kindref="member">src_name</ref>src_name.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(source_name)</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a1080253a78677f629254bacbd547ff8a" kindref="member">scan_id</ref>scan_id.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(scan_name)</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"></highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#we<sp/>need<sp/>to<sp/>convert<sp/>doy<sp/>to<sp/>month<sp/>day</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_datetime<sp/>=<sp/>datetime.datetime(year,1,1)<sp/>+<sp/>datetime.timedelta(days=doy-1,<sp/>hours=hour,<sp/>minutes=minute,<sp/>seconds=second)</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scan_date<sp/>=<sp/>scan_datetime.date()</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#create<sp/>a<sp/>file<sp/>line<sp/>for<sp/>this<sp/>delay</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/>yyyy<sp/><sp/><sp/><sp/>mo<sp/><sp/>dd<sp/><sp/>hh<sp/><sp/>mm<sp/><sp/><sp/><sp/>delay(sec)<sp/><sp/>scan_id</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f_line<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(scan_date.year)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(scan_date.month).zfill(2)<sp/><sp/>\</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(scan_date.day).zfill(2)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(hour).zfill(2)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(minute).zfill(2)<sp/>\</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(second).zfill(2)<sp/><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(<sp/>mean_delay*1e-12)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(source_name)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(scan_name)<sp/></highlight><highlight class="comment">#convert<sp/>delay<sp/>from<sp/>picosec<sp/>to<sp/>sec</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a8f2289bb3ecad27b771c61177d534003" kindref="member">file_lines</ref>file_lines.<ref refid="read__control__file_8c_1a6e8445bf8d20289805dd74cc8c79c246" kindref="member">append</ref>(f_line)</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1ExperimentMultibandDelayAverager_1a8f2289bb3ecad27b771c61177d534003" kindref="member">file_lines</ref>file_lines.sort()</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"></highlight></codeline>
<codeline lineno="1117"><highlight class="normal"></highlight></codeline>
<codeline lineno="1119"><highlight class="normal"></highlight></codeline>
<codeline lineno="1120"><highlight class="normal"></highlight></codeline>
<codeline lineno="1121" refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration" kindref="compound">PccConfiguration</ref>(object):</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;container<sp/>class<sp/>of<sp/>configuration<sp/>parameters<sp/>controlling<sp/>the<sp/>proxy-cable-cal<sp/>process&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a5e40048728841aeb9bd5b535d24a5fb1" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a1261675802a8513fc664710d80960f05" kindref="member">stations</ref>stations<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1aaa3de90b2f14a7e0e110936840baab18" kindref="member">exp_dir</ref>exp_dir<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;./&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1aae476e0f1f4081aad246659db7f9ae54" kindref="member">mode</ref>mode<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;VGOS&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#default<sp/>is<sp/>VGOS,<sp/>other<sp/>types<sp/>(e.g.<sp/>MIXE-MODE)<sp/>are<sp/>experimental<sp/>for<sp/>the<sp/>time<sp/>being,<sp/>so<sp/>this<sp/>is<sp/>not<sp/>allowed<sp/>to<sp/>be<sp/>changed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a1763eea77789d02220a8c3e9b279b6d2" kindref="member">band_list</ref>band_list<sp/>=<sp/>[]<sp/></highlight><highlight class="comment">#empty<sp/>defaults<sp/>to<sp/>doing<sp/>all<sp/>bands<sp/>available<sp/>in<sp/>the<sp/>channel-band<sp/>map</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a06bc279edf7046de590a33d717b7e504" kindref="member">pol_list</ref>pol_list<sp/>=<sp/>[]<sp/></highlight><highlight class="comment">#empty<sp/>defaults<sp/>to<sp/>doing<sp/>all<sp/>bands<sp/>available<sp/>in<sp/>the<sp/>channel-band<sp/>map</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a3850bcb9d583674574662e3418c77c06" kindref="member">fit_method</ref>fit_method<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;basinhopping&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#For<sp/>the<sp/>time<sp/>being<sp/>this<sp/>is<sp/>fixed...there<sp/>are<sp/>not<sp/>other<sp/>methods<sp/>in<sp/>use,<sp/>but<sp/>we<sp/>may<sp/>change<sp/>this<sp/>in<sp/>the<sp/>future</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a456da0686eefd265b8ff084a811b64e0" kindref="member">cut_threshold</ref>cut_threshold<sp/>=<sp/>2.5<sp/></highlight><highlight class="comment">#strip<sp/>tones<sp/>which<sp/>have<sp/>a<sp/>phase<sp/>residual<sp/>larger<sp/>than<sp/>cut_threshold*sigma</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a72e9de66aee00f77cbac0942663b7ed4" kindref="member">scan_start_trim_length</ref>scan_start_trim_length<sp/>=<sp/>DISCARD_OFFSET<sp/><sp/></highlight><highlight class="comment">#length<sp/>of<sp/>time<sp/>to<sp/>trim<sp/>from<sp/><sp/>the<sp/>start<sp/>each<sp/>scan<sp/>when<sp/>computing<sp/>the<sp/>time-weighted<sp/>average<sp/>phasors<sp/>(default:<sp/>2<sp/>sec)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1aa8e5ee009ec0337543a805ba6cf2e3b8" kindref="member">reference_scan</ref>reference_scan<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#typically<sp/>the<sp/>first<sp/>scan<sp/>of<sp/>the<sp/>session<sp/>is<sp/>the<sp/>reference<sp/>scan,<sp/>but<sp/>we<sp/>can<sp/>use<sp/>any<sp/>scan<sp/>we<sp/>like</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a2a50e61445e41570f6e2ef16ac3788b1" kindref="member">include_headers</ref>include_headers<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1abf7d1f101df9abeb15823ff9d8356a6e" kindref="member">output_dir</ref>output_dir<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;./&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1aa5c1db2e580e47ec08ef3a94814c1fb1" kindref="member">use_progress_ticker</ref>use_progress_ticker<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classvpal_1_1proxy__cable__cal_1_1PccConfiguration_1a967af99d19fec21b36b14c0d3ffb787c" kindref="member">verbosity</ref>verbosity<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"></highlight></codeline>
<codeline lineno="1138"><highlight class="normal"></highlight></codeline>
<codeline lineno="1139"><highlight class="normal"></highlight></codeline>
<codeline lineno="1141"><highlight class="normal"></highlight></codeline>
<codeline lineno="1142"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacevpal_1_1proxy__cable__cal_1a598602a871aee2e4b6b72e5c5296d8f6" kindref="member">process_experiment</ref>(pcc_config):</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"></highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/>chan_map<sp/>=<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1ChannelToBandMap" kindref="compound">ChannelToBandMap</ref>(pcc_config.mode)</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/>all_band_pol_list<sp/>=<sp/>chan_map.band_pol_to_channel.keys()</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/>active_band_pol_list<sp/>=<sp/>chan_map.construct_band_pol_keys(pcc_config.band_list,<sp/>pcc_config.pol_list)</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"></highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#if<sp/>unset,<sp/>default<sp/>to<sp/>doing<sp/>all<sp/>band-pols</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(active_band_pol_list)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>active_band_pol_list<sp/>=<sp/>all_band_pol_list</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"></highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/>station_data<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>st<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>pcc_config.stations:</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sepc<sp/>=<sp/><ref refid="classvpal_1_1proxy__cable__cal_1_1StationExperimentPhasorCollection" kindref="compound">StationExperimentPhasorCollection</ref>(pcc_config.exp_dir,<sp/>chan_map,<sp/>st,<sp/>verbosity=pcc_config.verbosity)</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sepc.initialize()</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pcc_config.reference_scan<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sepc.apply_start_as_phase_reference()</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sepc.apply_arbitrary_scan_as_phase_reference(pcc_config.reference_scan)</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#fit<sp/>band<sp/>delays</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sepc.fit_scan_band_delays(active_band_pol_list,<sp/>method=pcc_config.fit_method,<sp/>trim_length=pcc_config.scan_start_trim_length,<sp/>\</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cut_threshold=pcc_config.cut_threshold,<sp/>outputdir=pcc_config.output_dir,<sp/>verbosity=pcc_config.verbosity,<sp/>use_progress_ticker=pcc_config.use_progress_ticker)</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sepc.generate_dat_files(pcc_config)</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>station_data[st]<sp/>=<sp/>sepc</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"></highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>station_data</highlight></codeline>
    </programlisting>
    <location file="/home/barrettj/work/projects/hops-git/source/python_src/vpal_module/vpal/proxy_cable_cal.py"/>
  </compounddef>
</doxygen>
